module.exports=[66084,a=>{"use strict";var b=a.i(16552),c=a.i(8284),d=a.i(63090),e=a.i(59389),f=a.i(80630),g=a.i(26411);let h=()=>(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),i=()=>(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),j=()=>(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),k=()=>(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M19 12H5m7-7l-7 7 7 7"})}),l=()=>(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),m=()=>(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n=()=>(0,b.jsx)("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o=()=>(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),p=()=>(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),q=[{id:"particulier",label:"Particulier",icon:n},{id:"pro",label:"Pro / Agri",icon:()=>(0,b.jsxs)("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("circle",{cx:"6",cy:"18",r:"3"}),(0,b.jsx)("circle",{cx:"17",cy:"18",r:"3"}),(0,b.jsx)("path",{d:"M3 18h3M14 18h3M10 18h4"}),(0,b.jsx)("path",{d:"M9 12V6h6l3 6"}),(0,b.jsx)("path",{d:"M6 12h12"})]})},{id:"mer",label:"Mer / Pêche",icon:()=>(0,b.jsxs)("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.46-3.44 6-7 6-3.56 0-7.56-2.54-8.5-6Z"}),(0,b.jsx)("path",{d:"M18 12v.5"}),(0,b.jsx)("path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86"}),(0,b.jsx)("path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5 .23 6.5C6.11 18.03 7 16 7 13.33"}),(0,b.jsx)("path",{d:"M10.46 7.26C10.96 7.09 11.48 7 12 7"})]})},{id:"tourisme",label:"Tourisme",icon:()=>(0,b.jsxs)("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M14.5 4h-5L7 7H4a2 2 0 00-2 2v9a2 2 0 002 2h16a2 2 0 002-2V9a2 2 0 00-2-2h-3l-2.5-3z"}),(0,b.jsx)("circle",{cx:"12",cy:"13",r:"3"})]})}],r=[{id:"orages",label:"ORAGES",icon:()=>(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{id:"vent",label:"VENT FORT",icon:()=>(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.59 4.59A2 2 0 1111 8H2m10.59 11.41A2 2 0 1014 16H2m15.73-8.27A2.5 2.5 0 1119.5 12H2"})})},{id:"submersion",label:"SUBMERSION",icon:()=>(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),(0,b.jsx)("path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"}),(0,b.jsx)("path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"})]})},{id:"cyclone",label:"CYCLONE",icon:()=>(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M12 12c-3 0-6-2-6-6 0 6-6 6-6 6s6 0 6 6c0-4 3-6 6-6z"}),(0,b.jsx)("path",{d:"M12 12c3 0 6 2 6 6 0-6 6-6 6-6s-6 0-6-6c0 4-3 6-6 6z"})]})},{id:"chaleur",label:"CHALEUR",icon:()=>(0,b.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M12 2v10"}),(0,b.jsx)("path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04"})]})}],s=[{question:"Quels phénomènes sont couverts ?",answer:"Tous : orages, pluies intenses, vent fort, houle/submersion, chaleur extrême, cyclone/ouragan."},{question:"Comment me désinscrire ?",answer:'SMS : envoyez STOP. Email : cliquez sur le lien de désinscription ou utilisez la section "Gérer mon abonnement".'},{question:"Mes données sont-elles partagées ?",answer:"Non. Seuls le contact et les préférences nécessaires sont stockés."},{question:"Comment fonctionnent les alertes ?",answer:"Dès qu'une vigilance jaune, orange ou rouge est émise par Météo France, vous recevez une alerte avec des conseils adaptés."}];function t({initialUser:a}){let t=(0,d.useSearchParams)(),[u,v]=(0,c.useState)(a),[w,x]=(0,c.useState)(!!a&&!a.phone);(0,c.useEffect)(()=>{(async()=>{if(a){a.phone||x(!0);try{let a=await fetch("/api/auth/me");if(a.ok){let b=await a.json();v(a=>a?{...a,...b}:b)}}catch(a){console.error("Failed to refresh user",a)}finally{x(!1)}}})()},[a]);let[y,z]=(0,c.useState)(1),[A,B]=(0,c.useState)(a?.phone||""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(a?.email||""),[Q,R]=(0,c.useState)("particulier"),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(!1);(0,c.useEffect)(()=>{K&&(ah(!!u?.email),af(!1),F(""))},[K,u]),(0,c.useEffect)(()=>{M&&(ah(!1),af(!1),F(""))},[M]);let[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)("annual"),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=t.get("email"),b=t.get("phone"),c=t.get("mode");a&&P(a),b&&B(b),"sms"===c?(N(!0),u?.phone&&(ah(!0),z(2))):"email"===c&&(L(!0),u?.email&&ah(!0))},[t,u]);let[ai,aj]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!ai)return;let a=setInterval(()=>{Date.now()>ai&&aj(null)},1e3);return()=>clearInterval(a)},[ai]);let ak=async()=>{if(!O)return void alert("Email requis");ab(!0);try{let a=await fetch("/api/auth/send-otp-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O})}),b=await a.json();a.ok?(af(!0),alert("Code envoyé par email !")):alert(b.error||"Erreur d'envoi")}catch(a){alert("Erreur de connexion")}finally{ab(!1)}},al=async()=>{ad(!0);try{let a=await fetch("/api/auth/verify-otp-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O,code:E})}),b=await a.json();a.ok?ah(!0):alert(b.error||"Code invalide")}catch(a){alert("Erreur de vérification")}finally{ad(!1)}},am=(0,d.useRouter)(),an=a=>{let b=new URLSearchParams;b.set("plan",a),a.includes("sms")?(A&&b.set("phone",A),C&&b.set("profile",C)):(O&&b.set("email",O),Q&&b.set("profile",Q)),am.push(`/alertes/checkout?${b.toString()}`)};return K?(0,b.jsxs)("div",{className:"min-h-screen bg-stone-50",children:[(0,b.jsx)(e.Header,{initialUser:a}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,b.jsxs)("button",{onClick:()=>L(!1),className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 font-medium mb-6 transition-colors group",children:[(0,b.jsx)("span",{className:"group-hover:-translate-x-1 transition-transform",children:(0,b.jsx)(k,{})}),"Retour aux formules"]}),(0,b.jsx)("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-10",children:(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative bg-white border border-slate-200 rounded-2xl p-6 sm:p-8 shadow-sm animate-fade-in-up overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 text-white",children:(0,b.jsx)(j,{})}),(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-black text-slate-800",children:"Alertes Email"}),(0,b.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-xs font-bold px-3 py-1 rounded-full",children:"0.01€/an"})]}),(0,b.jsxs)("p",{className:"text-slate-500 font-medium mb-8 ml-14",children:["Couverture"," ",(0,b.jsx)("span",{className:"font-bold text-emerald-700 bg-emerald-50 px-2 py-0.5 rounded",children:"Martinique entière"})," ","— tous les ",(0,b.jsx)("span",{className:"font-bold text-emerald-700",children:"phénomènes"})," météo à risque sont traités automatiquement."]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-10",children:[(0,b.jsxs)("button",{className:`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold transition-all ${!ag?"bg-slate-800 text-white":"bg-slate-100 text-slate-600 border border-slate-300"}`,children:[ag?(0,b.jsx)(h,{}):(0,b.jsx)("span",{className:"w-6 h-6 flex items-center justify-center bg-white/20 rounded-full",children:"1"}),(0,b.jsx)("span",{children:"Vérifier l'email"})]}),(0,b.jsx)("div",{className:"flex-1 h-0.5 bg-slate-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full bg-slate-600 transition-all duration-500 ${ag?"w-full":"w-0"}`})}),(0,b.jsxs)("button",{className:`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold transition-all ${ag?"bg-slate-800 text-white":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[(0,b.jsx)("span",{className:"w-6 h-6 flex items-center justify-center bg-white/20 rounded-full",children:"2"}),(0,b.jsx)("span",{children:"Confirmer et payer"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-black text-slate-700 uppercase tracking-wide",children:"Adresse email"}),u?.email?(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-xl flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-100 rounded-full text-emerald-600",children:(0,b.jsx)(n,{})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-bold text-emerald-800 text-sm",children:"Connecté"}),(0,b.jsx)("p",{className:"text-xs text-emerald-600",children:u.email})]}),(0,b.jsx)("span",{className:"bg-emerald-200 text-emerald-800 text-xs font-bold px-2 py-1 rounded",children:"Vérifié"})]}):(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"email",placeholder:"votre@email.fr",value:O,onChange:a=>P(a.target.value),disabled:ag||ae,className:"w-full px-5 py-4 border border-slate-200 rounded-xl bg-white text-slate-800 font-medium placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300 disabled:bg-slate-100 disabled:text-slate-500"}),(0,b.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:ag?(0,b.jsx)("span",{className:"text-emerald-500 font-bold",children:"✓"}):(0,b.jsx)(j,{})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-black text-slate-700 uppercase tracking-wide",children:"Profil"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:q.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>R(a.id),className:`flex flex-col items-center gap-2 p-4 rounded-xl border transition-all ${Q===a.id?"border-emerald-500 bg-emerald-50 text-emerald-800":"border-slate-200 text-slate-500 bg-white hover:border-slate-300"}`,children:[(0,b.jsx)(c,{}),(0,b.jsx)("span",{className:"text-xs font-bold",children:a.label})]},a.id)})})]})]}),!u?.email&&!ag&&(0,b.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 mb-8 border border-slate-200",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-700 mb-4 uppercase tracking-wide",children:"Code de vérification"}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"• • • • • •",value:E,onChange:a=>F(a.target.value),maxLength:6,className:"flex-1 px-5 py-4 border border-slate-200 rounded-xl bg-white text-center text-xl tracking-[0.5em] font-mono font-bold text-slate-800 placeholder:text-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-300"}),ae?(0,b.jsx)("button",{onClick:al,disabled:!E||ac,className:"px-8 py-4 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-300 text-white font-black rounded-xl transition-all hover:shadow-lg active:scale-95",children:ac?"Vérif...":"Vérifier"}):(0,b.jsx)("button",{onClick:ak,disabled:!O||aa,className:"px-8 py-4 bg-slate-800 hover:bg-slate-700 disabled:bg-slate-300 text-white font-black rounded-xl transition-all hover:shadow-lg active:scale-95",children:aa?"Envoi...":"Envoyer le code"})]}),ae&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Code non reçu ?"}),(0,b.jsx)("button",{onClick:ak,disabled:aa,className:"text-sm font-bold text-slate-700 underline hover:text-slate-900 disabled:opacity-50",children:aa?"Envoi...":"Renvoyer un nouveau code"})]})]})]}),ag&&!u?.email&&(0,b.jsxs)("div",{className:"mb-8 p-4 bg-emerald-50 border border-emerald-100 rounded-xl flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-100 rounded-full text-emerald-600",children:(0,b.jsx)(h,{})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-emerald-800",children:"Email vérifié avec succès !"}),(0,b.jsx)("p",{className:"text-sm text-emerald-600",children:"Vous pouvez maintenant procéder au paiement."})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-700 mb-4 uppercase tracking-wide",children:"Paiement sécurisé"}),(0,b.jsxs)("div",{className:"border-2 border-slate-200 rounded-xl p-5 bg-gradient-to-br from-slate-50 to-white flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-100 rounded-lg",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-slate-700",children:"Paiement via Stripe"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Carte bancaire sécurisée"})]})]})]}),(0,b.jsx)("div",{className:"bg-emerald-50 rounded-xl p-5 border border-emerald-100 mb-8",children:(0,b.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:S,onChange:a=>T(a.target.checked),className:"w-6 h-6 mt-0.5 rounded-lg border-2 border-emerald-300 text-emerald-600"}),(0,b.jsx)("span",{className:"text-sm text-emerald-700 font-medium leading-relaxed",children:"J'accepte de recevoir des alertes météo par email. Je peux me désinscrire à tout moment via le lien dans chaque email."})]})}),(0,b.jsx)("button",{disabled:!O||!S||$||!ag&&!u?.email,onClick:()=>an("email-annual"),className:"w-full py-5 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 disabled:from-slate-300 disabled:to-slate-300 disabled:cursor-not-allowed text-white font-black text-lg rounded-xl transition-all duration-300 hover:shadow-xl active:scale-[0.98]",children:$?"Chargement...":"Payer 0.01€ et s'abonner pour 1 an"})]})})})]}),(0,b.jsx)(f.Footer,{})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-stone-50",children:[(0,b.jsx)(e.Header,{initialUser:a}),(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[(0,b.jsxs)("div",{className:"text-center mb-10 sm:mb-14 animate-fade-in-up",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-100 border border-slate-200 mb-4",children:[(0,b.jsx)(p,{}),(0,b.jsx)("span",{className:"font-bold text-slate-700",children:"Service d'alertes météo"})]}),(0,b.jsxs)("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-black text-slate-800 mb-4 tracking-tight",children:["Inscription aux ",(0,b.jsx)("span",{className:"text-amber-700",children:"Alertes Météo"})]}),(0,b.jsxs)("p",{className:"text-slate-500 text-base sm:text-lg max-w-2xl mx-auto font-medium leading-relaxed",children:["Complétez le formulaire ci-dessous pour recevoir les"," ",(0,b.jsx)("span",{className:"font-bold text-slate-700",children:"notifications météo"})," sur votre téléphone."]})]}),(0,b.jsx)("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-10",children:(0,b.jsxs)("div",{className:"flex-1 space-y-8",children:[M&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>N(!1),className:"flex items-center gap-2 text-slate-600 hover:text-slate-800 font-medium mb-2 transition-colors",children:[(0,b.jsx)(k,{}),"Retour aux formules"]}),(0,b.jsxs)("div",{className:"relative bg-white border border-slate-200 rounded-2xl p-6 sm:p-8 shadow-sm animate-slide-in-left overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 rounded-xl bg-slate-800 text-white",children:(0,b.jsx)(o,{})}),(0,b.jsx)("h2",{className:"text-xl sm:text-2xl font-black text-slate-800",children:"S'abonner en 2 étapes"})]}),(0,b.jsxs)("p",{className:"text-slate-500 font-medium mb-8 ml-14",children:["Couverture"," ",(0,b.jsx)("span",{className:"font-bold text-amber-700 bg-amber-50 px-2 py-0.5 rounded",children:"Martinique entière"})," ","— tous les ",(0,b.jsx)("span",{className:"font-bold text-amber-700",children:"phénomènes"})," météo à risque sont traités automatiquement."]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-10",children:[(0,b.jsxs)("button",{onClick:()=>z(1),className:`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold transition-all ${1===y?"bg-slate-800 text-white":y>1?"bg-slate-100 text-slate-600 border border-slate-300":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[y>1?(0,b.jsx)(h,{}):(0,b.jsx)("span",{className:"w-6 h-6 flex items-center justify-center bg-white/20 rounded-full",children:"1"}),(0,b.jsx)("span",{children:"Vérifier le numéro"})]}),(0,b.jsx)("div",{className:"flex-1 h-0.5 bg-slate-200 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full bg-slate-600 transition-all duration-500 ${y>1?"w-full":"w-0"}`})}),(0,b.jsxs)("button",{onClick:()=>y>1&&z(2),className:`flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-bold transition-all ${2===y?"bg-slate-800 text-white":"bg-slate-100 text-slate-400 border border-slate-200"}`,children:[(0,b.jsx)("span",{className:"w-6 h-6 flex items-center justify-center bg-white/20 rounded-full",children:"2"}),(0,b.jsx)("span",{children:"Confirmer l'abonnement"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-black text-slate-700 uppercase tracking-wide",children:"Numéro de téléphone"}),(0,b.jsx)("div",{className:"relative",children:w?(0,b.jsx)("div",{className:"animate-pulse",children:(0,b.jsx)("div",{className:"h-[58px] bg-slate-100 rounded-xl border border-slate-200"})}):u?.phone?(0,b.jsxs)("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-xl flex items-center gap-3 animate-fade-in-up",children:[(0,b.jsx)("div",{className:"p-2 bg-emerald-100 rounded-full text-emerald-600",children:(0,b.jsx)(i,{})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-bold text-emerald-800 text-sm",children:"Connecté"}),(0,b.jsx)("p",{className:"text-xs text-emerald-600",children:u.phone})]}),(0,b.jsx)("span",{className:"bg-emerald-200 text-emerald-800 text-xs font-bold px-2 py-1 rounded",children:"Vérifié"})]}):(0,b.jsx)(g.UserPhoneInput,{value:A,onChange:a=>B(a),disabled:ag||ae})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("label",{className:"block text-sm font-black text-slate-700 uppercase tracking-wide",children:"Profil"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:q.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>!ag&&D(a.id),disabled:ag,className:`flex flex-col items-center gap-2 p-4 rounded-xl border transition-all ${C===a.id?"border-slate-800 bg-slate-50 text-slate-800":"border-slate-200 text-slate-500 bg-white"} disabled:opacity-70`,children:[(0,b.jsx)(c,{}),(0,b.jsx)("span",{className:"text-xs font-bold",children:a.label})]},a.id)})})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-700 mb-4 uppercase tracking-wide",children:"Choisissez votre formule"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("button",{onClick:()=>Z("monthly"),className:`relative p-5 rounded-xl border-2 transition-all duration-300 text-left ${"monthly"===Y?"border-amber-500 bg-amber-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("span",{className:"text-2xl font-black text-slate-800",children:"4,99€"}),(0,b.jsx)("span",{className:"text-slate-500 font-bold text-sm",children:"/mois"})]}),(0,b.jsx)("p",{className:"text-sm font-bold text-slate-600",children:"Mensuel"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Sans engagement"}),"monthly"===Y&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("div",{className:"w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center",children:(0,b.jsx)(h,{})})})]}),(0,b.jsxs)("button",{onClick:()=>Z("annual"),className:`relative p-5 rounded-xl border-2 transition-all duration-300 text-left ${"annual"===Y?"border-amber-500 bg-amber-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[(0,b.jsx)("div",{className:"absolute -top-3 left-4",children:(0,b.jsx)("span",{className:"bg-emerald-500 text-white text-xs font-black px-3 py-1 rounded-full",children:"2 MOIS OFFERTS"})}),(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("span",{className:"text-2xl font-black text-slate-800",children:"49,90€"}),(0,b.jsx)("span",{className:"text-slate-500 font-bold text-sm",children:"/an"})]}),(0,b.jsx)("p",{className:"text-sm font-bold text-slate-600",children:"Annuel"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"text-xs text-slate-400 line-through",children:"59,88€"}),(0,b.jsx)("span",{className:"text-xs text-emerald-600 font-bold",children:"Économisez 9,98€"})]}),"annual"===Y&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("div",{className:"w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center",children:(0,b.jsx)(h,{})})})]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-700 mb-4 uppercase tracking-wide",children:"Paiement sécurisé"}),(0,b.jsxs)("div",{className:"border-2 border-slate-200 rounded-xl p-5 bg-gradient-to-br from-slate-50 to-white flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-100 rounded-lg",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-slate-700",children:"Paiement via Stripe"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Carte bancaire sécurisée"})]})]})]}),(0,b.jsx)("div",{className:"bg-slate-50 rounded-xl p-5 border border-slate-200 mb-8",children:(0,b.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:U,onChange:a=>V(a.target.checked),className:"w-6 h-6 mt-0.5 rounded-lg border-2 border-slate-300 text-slate-800"}),(0,b.jsx)("span",{className:"text-sm text-slate-700 font-medium leading-relaxed",children:"J'accepte de recevoir des alertes météo par SMS. Je peux me désinscrire à tout moment en répondant STOP au SMS reçu."})]})}),(0,b.jsx)("button",{disabled:$||!U||!A||!C,onClick:()=>an("monthly"===Y?"sms-monthly":"sms-annual"),className:"w-full py-5 bg-gradient-to-r from-slate-700 to-slate-800 hover:from-slate-800 hover:to-slate-900 disabled:from-slate-400 disabled:to-slate-400 disabled:cursor-not-allowed text-white font-black text-lg rounded-xl transition-all hover:shadow-xl active:scale-95 mb-8",children:$?"Chargement...":"monthly"===Y?"Payer 4,99€ et s'abonner (mensuel)":"Payer 49,90€ et s'abonner pour 1 an"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-black text-slate-700 mb-4 uppercase tracking-wide",children:"Phénomènes couverts"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3",children:r.map(a=>{let c=a.icon;return(0,b.jsxs)("span",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-xs font-black border border-slate-300 bg-white text-slate-600",children:[(0,b.jsx)(c,{}),a.label]},a.id)})})]})]})]}),!M&&(0,b.jsxs)("div",{className:"animate-slide-in-left",children:[(0,b.jsx)("h2",{className:"text-2xl sm:text-3xl font-black text-slate-800 mb-6",children:"Formules Alertes"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"relative bg-white border-2 border-emerald-500 rounded-2xl p-6 transition-all duration-500 cursor-pointer group flex flex-col hover:shadow-lg hover:-translate-y-1",onClick:()=>L(!0),children:[(0,b.jsx)("div",{className:"absolute -top-4 left-6",children:(0,b.jsx)("span",{className:"bg-emerald-600 text-white text-xs font-black px-4 py-2 rounded-full",children:"NOUVEAU"})}),(0,b.jsx)("h3",{className:"text-lg font-black text-slate-800 mb-2 mt-2",children:"Alertes Email"}),(0,b.jsxs)("div",{className:"flex items-baseline gap-1 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl font-black text-emerald-700",children:"10€"}),(0,b.jsx)("span",{className:"text-slate-500 font-bold",children:"/an"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mb-5",children:"Pour tous les profils."}),(0,b.jsx)("ul",{className:"space-y-2 mb-6 flex-1",children:["Alertes email détaillées","Prévisions complètes","Cartes météo incluses","Résiliation libre"].map(a=>(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[(0,b.jsx)("span",{className:"p-1 rounded-full bg-emerald-100 text-emerald-700",children:(0,b.jsx)(h,{})}),a]},a))}),(0,b.jsx)("button",{className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-black rounded-xl transition-all",children:"S'abonner"})]}),(0,b.jsxs)("div",{className:`relative bg-white border-2 rounded-2xl p-6 transition-all duration-500 cursor-pointer group flex flex-col ${G?"border-amber-600 shadow-lg -translate-y-1":"border-amber-500"}`,onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),onClick:()=>N(!0),children:[(0,b.jsx)("div",{className:"absolute -top-4 left-6",children:(0,b.jsx)("span",{className:"bg-amber-600 text-white text-xs font-black px-4 py-2 rounded-full",children:"RECOMMANDÉ"})}),(0,b.jsx)("h3",{className:"text-lg font-black text-slate-800 mb-2 mt-2",children:"SMS Standard"}),(0,b.jsxs)("div",{className:"flex items-baseline gap-1 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl font-black text-amber-700",children:"4,99€"}),(0,b.jsx)("span",{className:"text-slate-500 font-bold",children:"/mois"})]}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mb-5",children:"Pour les particuliers."}),(0,b.jsx)("ul",{className:"space-y-2 mb-6 flex-1",children:["Alertes immédiates","Tous phénomènes","Conseils sécurité"].map(a=>(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[(0,b.jsx)("span",{className:"p-1 rounded-full bg-amber-100 text-amber-700",children:(0,b.jsx)(h,{})}),a]},a))}),(0,b.jsx)("button",{className:"w-full py-3 bg-amber-600 hover:bg-amber-700 text-white font-black rounded-xl transition-all",children:"S'abonner"})]}),(0,b.jsxs)("a",{href:"/alertes/devis",className:`relative bg-white border rounded-2xl p-6 transition-all duration-500 flex flex-col ${I?"border-slate-400 shadow-lg -translate-y-1":"border-slate-200"}`,onMouseEnter:()=>J(!0),onMouseLeave:()=>J(!1),children:[(0,b.jsx)("div",{className:"absolute -top-4 left-6",children:(0,b.jsx)("span",{className:"bg-slate-600 text-white text-xs font-black px-4 py-2 rounded-full",children:"PROFESSIONNELS"})}),(0,b.jsx)("h3",{className:"text-lg font-black text-slate-800 mb-2",children:"SMS Pro"}),(0,b.jsx)("div",{className:"flex items-baseline gap-1 mb-3",children:(0,b.jsx)("span",{className:"text-3xl font-black text-slate-700",children:"Sur devis"})}),(0,b.jsx)("p",{className:"text-sm text-slate-500 font-medium mb-5",children:"Entreprises & Collectivités."}),(0,b.jsx)("ul",{className:"space-y-2 mb-6 flex-1",children:["Multi-numéros","Support prioritaire","Historique & Rapports"].map(a=>(0,b.jsxs)("li",{className:"flex items-center gap-2 text-sm font-bold text-slate-700",children:[(0,b.jsx)("span",{className:"p-1 rounded-full bg-slate-100 text-slate-600",children:(0,b.jsx)(h,{})}),a]},a))}),(0,b.jsx)("span",{className:"w-full py-3 bg-white border-2 border-slate-800 text-slate-800 hover:bg-slate-50 font-black rounded-xl transition-all text-center",children:"Demander un devis"})]})]})]}),!M&&(0,b.jsxs)("div",{className:"relative bg-white border border-slate-200 rounded-2xl p-6 sm:p-8 shadow-sm animate-slide-in-left overflow-hidden",style:{animationDelay:"0.3s"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"p-2 rounded-xl bg-slate-100",children:(0,b.jsx)(m,{})}),(0,b.jsx)("h2",{className:"text-xl font-black text-slate-800",children:"Questions fréquentes"})]}),(0,b.jsx)("div",{className:"space-y-3",children:s.map((a,c)=>(0,b.jsxs)("div",{className:"border border-slate-200 rounded-xl overflow-hidden bg-white",children:[(0,b.jsxs)("button",{onClick:()=>X(W===c?null:c),className:"w-full flex items-center justify-between p-4 text-left hover:bg-slate-50 transition-colors group",children:[(0,b.jsx)("span",{className:"font-bold text-slate-800 group-hover:text-slate-900 transition-colors",children:a.question}),(0,b.jsx)("div",{className:`transition-transform duration-300 ${W===c?"rotate-180":""}`,children:(0,b.jsx)(l,{})})]}),(0,b.jsx)("div",{className:`grid transition-all duration-300 ease-in-out ${W===c?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:(0,b.jsx)("div",{className:"overflow-hidden",children:(0,b.jsx)("div",{className:"px-4 pb-4 text-sm text-slate-600 leading-relaxed",children:a.answer})})})]},c))})]})]})})]}),(0,b.jsx)(f.Footer,{})]})}function u({initialUser:a}){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Chargement..."}),children:(0,b.jsx)(t,{initialUser:a})})}a.s(["AlertesClient",()=>t,"default",()=>u])}];

//# sourceMappingURL=design-update_TypeScript_weather10_components_alertes-client_tsx_6b99842e._.js.map