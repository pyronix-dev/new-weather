module.exports=[26084,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.HooksClientContext},5,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},57945,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.AppRouterContext},1212,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored["react-ssr"].ReactServerDOMTurbopackClient},71502,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored["react-ssr"].ReactDOM},34126,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b,"default",0,b])},87348,45689,85615,a=>{"use strict";var b=a.i(16552),c=a.i(33514),d=a.i(8284),e=a.i(85700);let f=()=>(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),g=()=>(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});function h({onSearch:a,onDaySelect:h,selectedDay:i}){let[j,k]=(0,d.useState)(""),[l,m]=(0,d.useState)(!1),n=(0,d.useRef)(null),o=Array.from({length:7},(a,b)=>{let c=new Date;return c.setDate(c.getDate()+b),{index:b,label:c.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric"}),fullDate:c.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}}),[p,q]=(0,d.useState)(!1),[r,s]=(0,d.useState)(!0),t=(0,d.useRef)(null),u=()=>{if(t.current){let{scrollLeft:a,scrollWidth:b,clientWidth:c}=t.current;q(a>0),s(a<b-c-1)}};(0,d.useEffect)(()=>(u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)),[]);let v=e.MARTINIQUE_CITIES.filter(a=>a.name.toLowerCase().includes(j.toLowerCase()));return(0,d.useEffect)(()=>{let a=a=>{n.current&&!n.current.contains(a.target)&&m(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 w-full mb-4",children:[(0,b.jsxs)("div",{className:"relative w-full md:w-72 z-40",ref:n,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-white px-3 py-2 rounded-xl border border-slate-200 focus-within:border-teal-500 transition-colors shadow-sm",children:[(0,b.jsx)(f,{}),(0,b.jsx)("input",{type:"text",placeholder:"Chercher une ville...",value:j,onChange:a=>{k(a.target.value),m(!0)},onFocus:()=>m(!0),className:"bg-transparent text-sm outline-none text-slate-800 placeholder:text-slate-400 w-full"}),j&&(0,b.jsx)("button",{onClick:()=>k(""),className:"text-slate-400 hover:text-slate-600",children:(0,b.jsx)(g,{})})]}),l&&j&&(0,b.jsx)("div",{className:"absolute top-fullmt-1 w-full bg-white border border-slate-200 rounded-xl shadow-xl mt-1 max-h-60 overflow-y-auto",children:v.length>0?v.map(c=>(0,b.jsx)("button",{onClick:()=>{a(c),k(c.name),m(!1)},className:"w-full text-left px-4 py-2 hover:bg-slate-50 text-sm text-slate-700 block transition-colors",children:c.name},c.name)):(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500",children:"Aucune ville trouvÃ©e"})})]}),(0,b.jsxs)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none"},className:"jsx-233bae010bd48759 flex-1 overflow-x-auto pb-2 md:pb-0",children:[(0,b.jsx)(c.default,{id:"233bae010bd48759",children:"div.jsx-233bae010bd48759::-webkit-scrollbar{display:none}.no-scrollbar.jsx-233bae010bd48759{-ms-overflow-style:none;scrollbar-width:none}"}),(0,b.jsxs)("div",{className:"jsx-233bae010bd48759 flex items-center gap-2 w-full relative group",children:[(0,b.jsx)("button",{onClick:()=>{t.current&&t.current.scrollBy({left:-200,behavior:"smooth"})},"aria-hidden":!p,tabIndex:p?0:-1,className:`jsx-233bae010bd48759 p-2 rounded-full bg-white border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50 flex-shrink-0 transition-opacity duration-300 ${p?"opacity-100":"opacity-0 pointer-events-none w-0 p-0 border-0"}`,children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-233bae010bd48759 w-5 h-5",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7",className:"jsx-233bae010bd48759"})})}),(0,b.jsx)("div",{ref:t,id:"days-container",onScroll:u,className:"jsx-233bae010bd48759 flex gap-2 overflow-x-auto no-scrollbar scroll-smooth flex-1",children:o.map(a=>(0,b.jsx)("button",{onClick:()=>h(a.index),className:`jsx-233bae010bd48759 px-4 py-2 rounded-xl text-sm font-bold whitespace-nowrap transition-all flex-shrink-0 ${i===a.index?"bg-slate-800 text-white shadow-md transform scale-105":"bg-white text-slate-600 hover:bg-slate-100 border border-slate-200"}`,children:0===a.index?"Auj.":a.label},a.index))}),(0,b.jsx)("button",{onClick:()=>{t.current&&t.current.scrollBy({left:200,behavior:"smooth"})},"aria-hidden":!r,tabIndex:r?0:-1,className:`jsx-233bae010bd48759 p-2 rounded-full bg-white border border-slate-200 text-slate-400 hover:text-slate-600 hover:bg-slate-50 flex-shrink-0 transition-opacity duration-300 ${r?"opacity-100":"opacity-0 pointer-events-none w-0 p-0 border-0"}`,children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-233bae010bd48759 w-5 h-5",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7",className:"jsx-233bae010bd48759"})})})]})]})]})}a.s(["MapControls",()=>h],87348);var i=a.i(63090),j=a.i(24288);function k(){let a=(0,i.useParams)(),b=(0,i.useSearchParams)(),c=(0,i.useRouter)(),f=(0,i.usePathname)(),g=a?.city?.[0]?decodeURIComponent(a.city[0]):null,h=parseInt(b.get("jour")||"0"),k=g||(0,j.sanitizeInput)(b.get("ville")||""),l=parseFloat(b.get("lat")||""),m=parseFloat(b.get("lon")||""),n=k?e.MARTINIQUE_CITIES.find(a=>a.name.toLowerCase()===k.toLowerCase()):null,[o,p]=(0,d.useState)(isNaN(h)?0:h),[q,r]=(0,d.useState)(n?.name||null),[s,t]=(0,d.useState)(n?{lat:n.lat,lon:n.lon}:isNaN(l)||isNaN(m)?null:{lat:l,lon:m});(0,d.useEffect)(()=>{let a=new URLSearchParams(b.toString()),d=a.get("jour"),e=0===o?null:o.toString();d!==e&&(e?a.set("jour",e):a.delete("jour"),c.replace(`${f}?${a.toString()}`,{scroll:!1}))},[o,c,f,b]),(0,d.useEffect)(()=>{if(!f.startsWith("/cartes"))return;let a=()=>{let a=window.location.pathname.split("/").filter(Boolean),b=a[2]?decodeURIComponent(a[2]):null;if(b){let a=e.MARTINIQUE_CITIES.find(a=>a.name.toLowerCase()===b.toLowerCase());if(a)r(a.name),t({lat:a.lat,lon:a.lon});else{let a=new URLSearchParams(window.location.search),c=parseFloat(a.get("lat")||""),d=parseFloat(a.get("lon")||"");isNaN(c)||isNaN(d)?(r(null),t(null)):(r(decodeURIComponent(b)),t({lat:c,lon:d}))}}else r(null),t(null)};return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)},[f,r,t]);let u=(0,d.useCallback)(a=>{t({lat:a.lat,lon:a.lon}),r(a.name);let c=new URLSearchParams(b.toString());e.MARTINIQUE_CITIES.some(b=>b.name.toLowerCase()===a.name.toLowerCase())?(c.delete("lat"),c.delete("lon")):(c.set("lat",a.lat.toString()),c.set("lon",a.lon.toString())),0!==o&&c.set("jour",o.toString());let d=c.toString()?`?${c.toString()}`:"";if(f.startsWith("/cartes")){let b=f.split("/").filter(Boolean)[1];if(b){let e=`/cartes/${b}/${encodeURIComponent(a.name)}`,f=`${e}${d}`;c.delete("ville"),window.history.pushState(null,"",f)}}else{c.set("ville",a.name);let b=`${f}?${c.toString()}`;window.history.pushState(null,"",b)}},[o,c,f,b,r,t]);return{selectedDay:o,selectedCity:q,centerOn:s,handleSearch:u,handleDaySelect:(0,d.useCallback)(a=>{p(a)},[]),resetView:(0,d.useCallback)(()=>{r(null),t(null);let a=new URLSearchParams(b.toString());if(a.delete("ville"),a.delete("lat"),a.delete("lon"),f.startsWith("/cartes")){let b=f.split("/").filter(Boolean);if(b.length>=3){let d=b[1],e=`/cartes/${d}`;c.push(`${e}?${a.toString()}`,{scroll:!1});return}}c.replace(`${f}?${a.toString()}`,{scroll:!1})},[c,f,b])}}a.s(["useMapUrlState",()=>k],45689),a.s(["AfternoonIcon",0,({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsx)("path",{d:"M12,2A10,10,0,1,0,22,12,10.01114,10.01114,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20ZM14.09814,9.63379,13,10.26807V7a1,1,0,0,0-2,0v5a1.00025,1.00025,0,0,0,1.5.86621l2.59814-1.5a1.00016,1.00016,0,1,0-1-1.73242Z"})}),"MorningIcon",0,({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsx)("path",{d:"M12,6a.99974.99974,0,0,0-1,1v4.38379L8.56934,12.60693a.99968.99968,0,1,0,.89843,1.78614l2.98145-1.5A.99874.99874,0,0,0,13,12V7A.99974.99974,0,0,0,12,6Zm0-4A10,10,0,1,0,22,12,10.01146,10.01146,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Z"})})],85615)},70785,a=>{"use strict";var b=a.i(16552);let c=a=>{switch(a){case 0:case 1:default:return"bi-sun-fill";case 2:return"bi-cloud-sun-fill";case 3:return"bi-clouds-fill";case 45:case 48:return"bi-cloud-haze-fill";case 51:case 53:case 55:case 56:case 57:return"bi-cloud-drizzle-fill";case 61:case 63:case 65:case 80:case 81:case 82:return"bi-cloud-rain-fill";case 66:case 67:return"bi-cloud-rain-heavy-fill";case 71:case 73:case 75:case 85:case 86:return"bi-cloud-snow-fill";case 77:return"bi-snow";case 95:return"bi-cloud-lightning-fill";case 96:case 99:return"bi-cloud-lightning-rain-fill"}};a.s(["getWeatherIcon",0,a=>{let d=c(a),e=(a=>{switch(a){case 0:case 1:default:return"#FBBF24";case 2:return"#F59E0B";case 3:return"#94A3B8";case 45:case 48:return"#CBD5E1";case 51:case 53:case 55:case 56:case 57:return"#60A5FA";case 61:case 63:case 65:case 66:case 67:case 80:case 81:case 82:return"#3B82F6";case 71:case 73:case 75:case 77:case 85:case 86:return"#E2E8F0";case 95:case 96:case 99:return"#8B5CF6"}})(a);return(0,b.jsx)("i",{className:`bi ${d}`,style:{color:e,fontSize:"inherit"}})},"getWeatherIconClass",0,c])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ad4bcfec._.js.map