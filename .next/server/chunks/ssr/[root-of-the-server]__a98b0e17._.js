module.exports=[26084,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.HooksClientContext},5,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},57945,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.AppRouterContext},1212,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored["react-ssr"].ReactServerDOMTurbopackClient},67285,a=>{"use strict";var b=a.i(16552),c=a.i(8284),d=a.i(63090),e=a.i(59389),f=a.i(80630);function g({initialUser:a}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(""),i=(0,d.useSearchParams)().get("session_id"),j=(0,d.useRouter)();return((0,c.useEffect)(()=>{i?fetch(`/api/checkout/verify?session_id=${i}`).then(a=>a.json()).then(a=>{f(a.status),a.customer_email&&h(a.customer_email)}):f("error")},[i]),"open"===e)?(0,b.jsxs)("div",{className:"max-w-md mx-auto text-center py-12",children:[(0,b.jsx)("h1",{className:"text-xl font-medium text-slate-800",children:"Paiement en cours..."}),(0,b.jsx)("p",{className:"text-slate-500",children:"Veuillez patienter."})]}):"complete"===e?(0,b.jsxs)("div",{id:"success",className:"bg-white rounded-3xl p-8 shadow-xl max-w-lg mx-auto text-center border border-emerald-100 animate-fade-in-up mt-12",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)("i",{className:"bi bi-check-lg text-4xl text-emerald-600"})}),(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-800 mb-4",children:"Abonnement Confirmé !"}),(0,b.jsxs)("p",{className:"text-slate-600 mb-6",children:["Merci pour votre confiance. Un email de confirmation a été envoyé à",(0,b.jsx)("span",{className:"font-bold text-slate-900 block mt-1",children:g})]}),(0,b.jsx)("div",{className:"bg-slate-50 rounded-xl p-4 mb-8 text-sm text-slate-500",children:"Vos alertes météo sont désormais actives. Vous pouvez configurer vos préférences à tout moment."}),(0,b.jsx)("button",{onClick:()=>j.push("/dashboard"),className:"w-full py-4 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg shadow-emerald-600/20",children:"Accéder à mon tableau de bord"})]}):"error"===e?(0,b.jsxs)("div",{className:"max-w-md mx-auto text-center py-12 bg-red-50 rounded-2xl border border-red-100 mt-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("i",{className:"bi bi-x-lg text-2xl"})}),(0,b.jsx)("h1",{className:"text-xl font-bold text-red-900 mb-2",children:"Erreur"}),(0,b.jsx)("p",{className:"text-red-700 mb-6",children:"Impossible de vérifier le paiement."}),(0,b.jsx)("button",{onClick:()=>j.push("/alertes/devis"),className:"text-red-800 underline",children:"Retourner aux offres"})]}):(0,b.jsx)("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-10 h-10 border-4 border-slate-200 border-t-cyan-500 rounded-full animate-spin"})})}function h({initialUser:a}){return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans",children:[(0,b.jsx)(e.Header,{initialUser:a}),(0,b.jsx)("main",{className:"flex-1 w-full px-4 sm:px-6 py-12",children:(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Chargement..."}),children:(0,b.jsx)(g,{initialUser:a})})}),(0,b.jsx)(f.Footer,{})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a98b0e17._.js.map