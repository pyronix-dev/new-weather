module.exports=[26084,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.HooksClientContext},5,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},57945,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.AppRouterContext},1212,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored["react-ssr"].ReactServerDOMTurbopackClient},31656,a=>{"use strict";var b=a.i(16552),c=a.i(8284),d=a.i(70230),e=a.i(18988),f=a.i(59389);let g=a=>fetch(a).then(a=>a.json());function h({initialUser:a}){let[h,i]=(0,c.useState)(1),{data:j,isLoading:k,mutate:l}=(0,e.default)(`/api/admin/observations?page=${h}&limit=20`,g),m=async a=>{confirm("Supprimer cette observation ?")&&(await fetch("/api/admin/observations",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})}),l())};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,b.jsx)(f.Header,{initialUser:a}),(0,b.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsx)(d.default,{href:"/admin",className:"text-slate-500 hover:text-slate-700",children:"← Retour"}),(0,b.jsx)("h1",{className:"text-2xl font-black text-slate-800",children:"Modération des Observations"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Type"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Position"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Détails"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Utilisateur"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-200",children:k?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"Chargement..."})}):j?.observations?.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-slate-800",children:a.type}),(0,b.jsxs)("td",{className:"px-6 py-4 text-sm text-slate-600",children:["x:",a.x?.toFixed(1),", y:",a.y?.toFixed(1)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs truncate",children:a.details||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.users?.email||a.users?.full_name||"Anonyme"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(a.created_at).toLocaleString("fr-FR")}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("button",{onClick:()=>m(a.id),className:"text-red-600 hover:underline text-sm font-medium",children:"Supprimer"})})]},a.id))})]}),j?.pagination&&(0,b.jsxs)("div",{className:"p-4 border-t border-slate-200 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm text-slate-500",children:["Page ",j.pagination.page," sur ",j.pagination.totalPages]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>i(a=>Math.max(1,a-1)),disabled:1===h,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Précédent"}),(0,b.jsx)("button",{onClick:()=>i(a=>a+1),disabled:h>=j.pagination.totalPages,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Suivant"})]})]})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__068f6103._.js.map