module.exports=[26084,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.HooksClientContext},5,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},57945,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored.contexts.AppRouterContext},1212,(a,b,c)=>{"use strict";b.exports=a.r(16511).vendored["react-ssr"].ReactServerDOMTurbopackClient},34126,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b,"default",0,b])},16840,a=>{"use strict";var b=a.i(8284);function c(a,c,d){let[e,f]=(0,b.useState)(null),[g,h]=(0,b.useState)([]),[i,j]=(0,b.useState)(!0);return(0,b.useEffect)(()=>{(async()=>{j(!0);try{let b=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${a}&longitude=${c}&current=temperature_2m,relative_humidity_2m,apparent_temperature,precipitation,weather_code,wind_speed_10m,wind_direction_10m,pressure_msl,visibility&hourly=temperature_2m,relative_humidity_2m,precipitation_probability,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min,precipitation_sum,precipitation_probability_max,sunrise,sunset,wind_speed_10m_max,uv_index_max&timezone=America/Martinique`),e=await b.json();if(e.daily&&d<e.daily.time.length){let a={date:e.daily.time[d],maxTemp:e.daily.temperature_2m_max[d],minTemp:e.daily.temperature_2m_min[d],precipitation:e.daily.precipitation_probability_max[d],precipSum:e.daily.precipitation_sum[d],sunrise:e.daily.sunrise[d],sunset:e.daily.sunset[d],windMax:e.daily.wind_speed_10m_max[d],uvIndex:e.daily.uv_index_max[d]};f(a)}if(e.hourly){let a=24*d,b=e.hourly.time.slice(a,a+24).map((b,c)=>({time:new Date(b).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),temp:e.hourly.temperature_2m[a+c],humidity:e.hourly.relative_humidity_2m[a+c],precipitation:e.hourly.precipitation_probability[a+c]||0,wind:e.hourly.wind_speed_10m[a+c]}));h(b)}try{let b=await fetch(`https://marine-api.open-meteo.com/v1/marine?latitude=${a}&longitude=${c}&daily=wave_height_max,wave_direction_dominant,wave_period_max&hourly=wave_height,wave_period,wave_direction,sea_surface_temperature&timezone=America/Martinique`),e=await b.json();if(e.daily&&d<e.daily.time.length){let a=24*d+12,b=e.hourly?.sea_surface_temperature?e.hourly.sea_surface_temperature[a]:null;f(a=>a?{...a,waveHeight:e.daily.wave_height_max[d],waveDirection:e.daily.wave_direction_dominant[d],wavePeriod:e.daily.wave_period_max[d],waterTemp:b}:null)}}catch(a){console.log("Marine data unavailable")}}catch(a){console.log("[MQ] Weather fetch error:",a)}finally{j(!1)}})()},[a,c,d]),{weather:e,hourlyData:g,loading:i}}a.s(["useWeather",()=>c])},36980,a=>{"use strict";var b=a.i(16552),c=a.i(63090),d=a.i(59389),e=a.i(80630),f=a.i(24288),g=a.i(16840);let h=()=>(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),i=()=>(0,b.jsxs)("svg",{className:"w-16 h-16 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75c5.4 0 8.25-7.5 11.25-7.5s5.85 7.5 11.25 7.5"}),(0,b.jsx)("path",{strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 19.5c5.4 0 8.25-7.5 11.25-7.5s5.85 7.5 11.25 7.5"})]}),j=({degree:a})=>(0,b.jsxs)("div",{className:"relative w-16 h-16 flex items-center justify-center border-2 border-slate-300 rounded-full",style:{transform:`rotate(${a}deg)`},children:[(0,b.jsx)("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-b-[20px] border-b-red-500 border-r-[6px] border-r-transparent absolute -top-1"}),(0,b.jsx)("div",{className:"w-2 h-2 bg-slate-800 rounded-full"})]});function k({initialUser:a}){let k=(0,c.useParams)(),l=(0,c.useSearchParams)(),m=(0,c.useRouter)(),n=l.get("city")||"Fort-de-France",o=l.get("lat")||"14.6161",p=l.get("lon")||"-61.059",q=Array.isArray(k.day)?k.day[0]:k.day,r=(0,f.getDayIndexFromSlug)(q||"today"),{weather:s,loading:t}=(0,g.useWeather)(o,p,r),u=l.get("source");return(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(d.Header,{initialUser:a}),(0,b.jsxs)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,b.jsxs)("button",{onClick:()=>{"map"===u?m.push("/cartes/plages"):m.push(`/previsions/${q}?city=${encodeURIComponent(n)}&lat=${o}&lon=${p}`)},className:"group flex items-center gap-2 text-slate-600 hover:text-slate-800 font-medium mb-6 transition-colors",children:[(0,b.jsx)("span",{className:"p-2 rounded-xl bg-slate-100 group-hover:bg-slate-200 transition-colors",children:(0,b.jsx)(h,{})}),(0,b.jsx)("span",{children:"Retour au résumé"})]}),!t&&s?(0,b.jsxs)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm p-6 sm:p-10",children:[(0,b.jsxs)("div",{className:"mb-8 border-b border-slate-100 pb-6",children:[(0,b.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 mb-2",children:"Conditions Plage"}),(0,b.jsxs)("p",{className:"text-xl text-slate-500 capitalize",children:[new Date(s.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})," - ",n]})]}),void 0!==s.waveHeight?(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[(0,b.jsxs)("div",{className:"bg-cyan-50 rounded-2xl p-8 flex flex-col items-center justify-center text-center hover:shadow-md transition-shadow",children:[(0,b.jsx)(i,{}),(0,b.jsx)("p",{className:"text-cyan-700 font-medium mt-4 mb-2 uppercase tracking-wide text-sm",children:"Hauteur des Vagues"}),(0,b.jsxs)("div",{className:"text-5xl font-bold text-slate-800",children:[s.waveHeight.toFixed(1),(0,b.jsx)("span",{className:"text-2xl text-slate-500 ml-1",children:"m"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-8 flex flex-col items-center justify-center text-center hover:shadow-md transition-shadow",children:[(0,b.jsx)(j,{degree:s.waveDirection||0}),(0,b.jsx)("p",{className:"text-slate-600 font-medium mt-4 mb-2 uppercase tracking-wide text-sm",children:"Direction Houle"}),(0,b.jsx)("div",{className:"text-4xl font-bold text-slate-800",children:["N","NE","E","SE","S","SO","O","NO"][Math.round((s.waveDirection||0)/45)%8]}),(0,b.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:[s.waveDirection,"°"]})]}),(0,b.jsxs)("div",{className:"bg-teal-50 rounded-2xl p-8 flex flex-col items-center justify-center text-center hover:shadow-md transition-shadow",children:[(0,b.jsx)("div",{className:"w-16 h-16 flex items-center justify-center bg-white rounded-full text-2xl font-bold text-teal-600 shadow-sm",children:"T"}),(0,b.jsx)("p",{className:"text-teal-700 font-medium mt-4 mb-2 uppercase tracking-wide text-sm",children:"Période"}),(0,b.jsxs)("div",{className:"text-5xl font-bold text-slate-800",children:[s.wavePeriod?.toFixed(0),(0,b.jsx)("span",{className:"text-2xl text-slate-500 ml-1",children:"s"})]})]})]}):(0,b.jsxs)("div",{className:"text-center py-12 bg-slate-50 rounded-2xl border border-dashed border-slate-300",children:[(0,b.jsx)("p",{className:"text-slate-500 text-lg",children:"Données maritimes non disponibles pour cette localité (intérieur des terres)."}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-2",children:"Essayez une ville côtière comme Le Diamant ou Sainte-Anne."})]}),(0,b.jsxs)("div",{className:"mt-8 p-6 bg-blue-50 rounded-2xl border border-blue-100",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"Note sur la baignade"}),(0,b.jsx)("p",{className:"text-blue-700",children:s.waveHeight&&s.waveHeight>1.5?"⚠️ Mer agitée. Prudence recommandée pour la baignade.":"✅ Mer calme à peu agitée. Baignade favorable."})]})]}):(0,b.jsx)("div",{className:"h-96 flex items-center justify-center",children:"Loading..."})]}),(0,b.jsx)(e.Footer,{})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d583e4b1._.js.map