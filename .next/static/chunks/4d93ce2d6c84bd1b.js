(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80885,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},55722,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return i},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,n(e));else t.set(r,n(a));return t}function i(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},68755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return i}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});let s=e.r(9808)._(e.r(55722)),n=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,a=e.protocol||"",l=e.pathname||"",o=e.hash||"",i=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),i&&"object"==typeof i&&(i=String(s.urlQueryToSearchParams(i)));let u=e.search||i&&`?${i}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||n.test(a))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),l=l.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${a}${c}${l}${u}${o}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},24293,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return l}});let a=e.r(35267);function l(e,t){let r=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(r.current=s(e,a)),t&&(l.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},8615,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return b},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return j},NormalizeError:function(){return g},PageNotFoundError:function(){return v},SP:function(){return m},ST:function(){return p},WEB_VITALS:function(){return s},execOnce:function(){return n},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return i},isResSent:function(){return f},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return x},stringifyError:function(){return N}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function x(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let m="undefined"!=typeof performance,p=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class b extends Error{}class g extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},8240,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(8615),l=e.r(15446);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,l.hasBasePath)(r.pathname)}catch(e){return!1}}},36345,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},31588,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return b},useLinkStatus:function(){return v}};for(var l in a)Object.defineProperty(r,l,{enumerable:!0,get:a[l]});let s=e.r(9808),n=e.r(50415),o=s._(e.r(35267)),i=e.r(68755),c=e.r(836),u=e.r(24293),d=e.r(8615),f=e.r(97714);e.r(80885);let x=e.r(34515),h=e.r(8240),m=e.r(62262);function p(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function b(t){var r;let a,l,s,[i,b]=(0,o.useOptimistic)(x.IDLE_LINK_STATUS),v=(0,o.useRef)(null),{href:j,as:y,children:N,prefetch:w=null,passHref:k,replace:C,shallow:P,scroll:L,onClick:M,onMouseEnter:S,onTouchStart:D,legacyBehavior:A=!1,onNavigate:E,ref:_,unstable_dynamicOnHover:O,...T}=t;a=N,A&&("string"==typeof a||"number"==typeof a)&&(a=(0,n.jsx)("a",{children:a}));let $=o.default.useContext(c.AppRouterContext),R=!1!==w,B=!1!==w?null===(r=w)||"auto"===r?m.FetchStrategy.PPR:m.FetchStrategy.Full:m.FetchStrategy.PPR,{href:I,as:U}=o.default.useMemo(()=>{let e=p(j);return{href:e,as:y?p(y):e}},[j,y]);if(A){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});l=o.default.Children.only(a)}let F=A?l&&"object"==typeof l&&l.ref:_,z=o.default.useCallback(e=>(null!==$&&(v.current=(0,x.mountLinkInstance)(e,I,$,B,R,b)),()=>{v.current&&((0,x.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,x.unmountPrefetchableInstance)(e)}),[R,I,$,B,b]),W={ref:(0,u.useMergedRef)(z,F),onClick(t){A||"function"!=typeof M||M(t),A&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(t),!$||t.defaultPrevented||function(t,r,a,l,s,n,i){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(75368);o.default.startTransition(()=>{d(a||r,s?"replace":"push",n??!0,l.current)})}}(t,I,U,v,C,L,E)},onMouseEnter(e){A||"function"!=typeof S||S(e),A&&l.props&&"function"==typeof l.props.onMouseEnter&&l.props.onMouseEnter(e),$&&R&&(0,x.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){A||"function"!=typeof D||D(e),A&&l.props&&"function"==typeof l.props.onTouchStart&&l.props.onTouchStart(e),$&&R&&(0,x.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,d.isAbsoluteUrl)(U)?W.href=U:A&&!k&&("a"!==l.type||"href"in l.props)||(W.href=(0,f.addBasePath)(U)),s=A?o.default.cloneElement(l,W):(0,n.jsx)("a",{...T,...W,children:a}),(0,n.jsx)(g.Provider,{value:i,children:s})}e.r(36345);let g=(0,o.createContext)(x.IDLE_LINK_STATUS),v=()=>(0,o.useContext)(g);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},57357,(e,t,r)=>{t.exports=e.r(49338)},81696,28777,e=>{"use strict";var t=e.i(50415),r=e.i(35267),a=e.i(31588),l=e.i(57357);let s=[{name:"Fort-de-France",lat:14.6035,lon:-61.0669,isDefault:!0},{name:"Le Lamentin",lat:14.6009,lon:-60.9991,isDefault:!0},{name:"Le Robert",lat:14.6776,lon:-60.9392,isDefault:!0},{name:"Sainte-Marie",lat:14.7839,lon:-60.9936,isDefault:!0},{name:"La Trinité",lat:14.738,lon:-60.9631,isDefault:!0},{name:"Saint-Pierre",lat:14.7423,lon:-61.176,isDefault:!0},{name:"Le François",lat:14.6156,lon:-60.9029,isDefault:!0},{name:"Rivière-Pilote",lat:14.4867,lon:-60.9028,isDefault:!0},{name:"Le Diamant",lat:14.4789,lon:-61.0315,isDefault:!0},{name:"Sainte-Anne",lat:14.4367,lon:-60.8803,isDefault:!0},{name:"Les Anses-d'Arlet",lat:14.4911,lon:-61.0811,isDefault:!0},{name:"Le Carbet",lat:14.7117,lon:-61.1825,isDefault:!0},{name:"Sainte-Luce",lat:14.4686,lon:-60.9221,isDefault:!0},{name:"Le Vauclin",lat:14.545,lon:-60.8353,isDefault:!0},{name:"Les Trois-Îlets",lat:14.5388,lon:-61.0353,isDefault:!0},{name:"Le Prêcheur",lat:14.8021,lon:-61.2227,isDefault:!0},{name:"Grand'Rivière",lat:14.8732,lon:-61.1809,isDefault:!0},{name:"Le Morne-Rouge",lat:14.7733,lon:-61.1353,isDefault:!0},{name:"Tartane",lat:14.761,lon:-60.912,isDefault:!0},{name:"Bellefontaine",lat:14.6732,lon:-61.1639,isDefault:!0},{name:"Basse-Pointe",lat:14.868,lon:-61.1176,isDefault:!0},{name:"Le Lorrain",lat:14.8335,lon:-61.0556,isDefault:!0},{name:"Schœlcher",lat:14.6148,lon:-61.0975,isDefault:!1},{name:"Ducos",lat:14.5769,lon:-60.9708,isDefault:!1},{name:"Saint-Joseph",lat:14.6687,lon:-61.0398,isDefault:!1},{name:"Le Marin",lat:14.4716,lon:-60.8697,isDefault:!1},{name:"Rivière-Salée",lat:14.5332,lon:-60.9806,isDefault:!1},{name:"Case-Pilote",lat:14.6373,lon:-61.1378,isDefault:!1},{name:"Macouba",lat:14.8769,lon:-61.1417,isDefault:!1},{name:"Le Marigot",lat:14.8214,lon:-61.0305,isDefault:!1},{name:"Fonds-Saint-Denis",lat:14.7397,lon:-61.1292,isDefault:!1},{name:"L'Ajoupa-Bouillon",lat:14.8258,lon:-61.1136,isDefault:!1},{name:"Saint-Esprit",lat:14.5619,lon:-60.9358,isDefault:!1},{name:"Gros-Morne",lat:14.7083,lon:-61.0033,isDefault:!1}];e.s(["BEACH_LOCATIONS",0,[{name:"Les Salines",city:"Sainte-Anne",lat:14.4026,lon:-60.8787},{name:"Grande Anse",city:"Le Diamant",lat:14.4735,lon:-61.0322},{name:"Grande Anse d'Arlet",city:"Les Anses-d'Arlet",lat:14.502,lon:-61.085},{name:"Pointe Faula",city:"Le Vauclin",lat:14.5447,lon:-60.8339},{name:"Anse Mitan",city:"Les Trois-Îlets",lat:14.5519,lon:-61.0543},{name:"Plage du Bourg",city:"Sainte-Luce",lat:14.468,lon:-60.923},{name:"Anse Céron",city:"Le Prêcheur",lat:14.814,lon:-61.226},{name:"Anse Turin",city:"Le Carbet",lat:14.718,lon:-61.185},{name:"La Française",city:"Fort-de-France",lat:14.604,lon:-61.062},{name:"Anse l'Etang",city:"Tartane",lat:14.766,lon:-60.906},{name:"Anse Charpentier",city:"Sainte-Marie",lat:14.795,lon:-61.005},{name:"Plage de Basse-Pointe",city:"Basse-Pointe",lat:14.87,lon:-61.115},{name:"Plage du Sinaï",city:"Grand'Rivière",lat:14.875,lon:-61.182},{name:"Cap Macré",city:"Le Marin",lat:14.475,lon:-60.842}],"MARTINIQUE_CITIES",0,s],28777);let n=()=>(0,t.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})}),o=()=>(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),c=()=>(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),u=()=>(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),d=()=>(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),f=()=>(0,t.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"6",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"12",y1:"18",x2:"12",y2:"22",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"2",y1:"12",x2:"6",y2:"12",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"18",y1:"12",x2:"22",y2:"12",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"3",fill:"currentColor"})]});function x({initialUser:e}){let[x,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[y,N]=(0,r.useState)(e||null),[w,k]=(0,r.useState)(!1),[C,P]=(0,r.useState)(!1),L=(0,r.useRef)(null),M=(0,r.useRef)(null),S=(0,r.useRef)(null),D=(0,l.usePathname)(),A=(0,l.useRouter)();(0,r.useEffect)(()=>{e||(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json(),r=t.first_name||t.full_name||t.reference;N({name:r,email:t.email||"",role:t.role})}}catch(e){}})()},[]),(0,r.useEffect)(()=>{let e=e=>{L.current&&!L.current.contains(e.target)&&g(!1),M.current&&!M.current.contains(e.target)&&g(!1),S.current&&!S.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let E=async()=>{await fetch("/api/auth/logout",{method:"POST"}),N(null),A.push("/login")},_=s.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())),O=e=>{p(e.name),g(!1),A.push(`/previsions?city=${encodeURIComponent(e.name)}&lat=${e.lat}&lon=${e.lon}`)},T=()=>{j(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:r}=e.coords,a=s.reduce((e,a)=>{let l=Math.abs(e.lat-t)+Math.abs(e.lon-r);return Math.abs(a.lat-t)+Math.abs(a.lon-r)<l?a:e});p(a.name),g(!1),j(!1),A.push(`/previsions?city=${encodeURIComponent(a.name)}&lat=${a.lat}&lon=${a.lon}`)},e=>{console.error("Geolocation error:",e),j(!1),alert("Impossible d'obtenir votre position. Veuillez vérifier les permissions de localisation.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(j(!1),alert("La géolocalisation n'est pas supportée par votre navigateur."))},$=(()=>{switch(D){case"/":case"/carte":return"Carte";case"/previsions":return"Prévisions";case"/vigilance":return"Vigilance";case"/alertes":return"Alertes";default:if(D.startsWith("/previsions/"))return"Détail Jour";return null}})();return(0,t.jsx)("header",{className:"sticky top-0 z-[100] bg-white border-b border-slate-200 shadow-sm",children:(0,t.jsxs)("div",{className:"w-full px-4 sm:px-6 py-3 sm:py-4",children:[(0,t.jsxs)("div",{className:"hidden sm:flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 animate-fade-in-up",children:(0,t.jsx)("img",{src:"https://raw.githubusercontent.com/pyronix-dev/upwork/main/logo-text.png",alt:"Météo Martinique",className:"h-10 object-contain"})}),(0,t.jsxs)("nav",{className:"flex items-center gap-4 lg:gap-6 flex-wrap justify-center flex-1",children:[(0,t.jsxs)(a.default,{href:"/",className:`font-bold transition whitespace-nowrap animate-slide-in-left relative ${"/"===D?"text-slate-800":"text-slate-600 hover:text-slate-800"}`,style:{animationDelay:"0.1s"},children:["Accueil","/"===D&&(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-slate-800 rounded-full"})]}),(0,t.jsxs)(a.default,{href:"/previsions",className:`font-bold transition whitespace-nowrap animate-slide-in-left relative ${"/previsions"===D||D.startsWith("/previsions/")?"text-slate-800":"text-slate-600 hover:text-slate-800"}`,style:{animationDelay:"0.2s"},children:["Prévisions",("/previsions"===D||D.startsWith("/previsions/"))&&(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-slate-800 rounded-full"})]}),(0,t.jsxs)(a.default,{href:"/vigilance",className:`font-bold transition whitespace-nowrap animate-slide-in-left relative ${"/vigilance"===D?"text-slate-800":"text-slate-600 hover:text-slate-800"}`,style:{animationDelay:"0.3s"},children:["Vigilance","/vigilance"===D&&(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-slate-800 rounded-full"})]}),(0,t.jsxs)(a.default,{href:"/cartes/plages",className:`font-bold transition whitespace-nowrap animate-slide-in-left relative ${"/cartes/plages"===D?"text-slate-800":"text-slate-600 hover:text-slate-800"}`,style:{animationDelay:"0.35s"},children:["Météo des Plages","/cartes/plages"===D&&(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-slate-800 rounded-full"})]}),(0,t.jsxs)("div",{className:"relative group",onMouseEnter:()=>P(!0),onMouseLeave:()=>P(!1),children:[(0,t.jsxs)("button",{className:`font-bold transition whitespace-nowrap animate-slide-in-left relative flex items-center gap-1 ${"/carte"===D||"/"===D||D.startsWith("/cartes/")?"text-slate-800":"text-slate-600 hover:text-slate-800"}`,style:{animationDelay:"0.4s"},children:["Cartes",(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform duration-200 ${C?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),("/carte"===D||"/"===D||D.startsWith("/cartes/"))&&(0,t.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-slate-800 rounded-full"})]}),C&&(0,t.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 pt-2 w-48 z-50 animate-fade-in-up",children:(0,t.jsx)("div",{className:"bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden",children:(0,t.jsx)("div",{className:"py-2",children:[{label:"Observations",href:"/carte",icon:(0,t.jsx)("i",{className:"bi bi-eye-fill text-slate-500 text-lg"})},{label:"Températures",href:"/cartes/temperature",icon:(0,t.jsx)("i",{className:"bi bi-thermometer-sun text-orange-500 text-lg"})},{label:"Vent",href:"/cartes/vent",icon:(0,t.jsx)("i",{className:"bi bi-wind text-teal-500 text-lg"})},{label:"Pluie",href:"/cartes/pluie",icon:(0,t.jsx)("i",{className:"bi bi-cloud-drizzle-fill text-blue-500 text-lg"})},{label:"Indice UV",href:"/cartes/uv",icon:(0,t.jsx)("i",{className:"bi bi-sun-fill text-amber-500 text-lg"})},{label:"Plages",href:"/cartes/plages",icon:(0,t.jsx)("i",{className:"bi bi-umbrella-fill text-cyan-500 text-lg"})}].map(e=>(0,t.jsxs)(a.default,{href:e.href,className:"flex items-center gap-3 px-4 py-3 text-slate-600 hover:bg-slate-50 hover:text-cyan-600 transition-colors",onClick:()=>P(!1),children:[(0,t.jsx)("div",{className:"shrink-0",children:e.icon}),(0,t.jsx)("span",{className:`${D===e.href?"text-slate-900 font-bold":""}`,children:e.label})]},e.href))})})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0 animate-slide-in-right",children:[(0,t.jsxs)("div",{className:"hidden lg:block relative",ref:L,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-2 rounded-xl border border-slate-200 focus-within:border-slate-400 transition-colors",children:[(0,t.jsx)(o,{}),(0,t.jsx)("input",{type:"text",placeholder:"Chercher une ville...",value:m,onChange:e=>{p(e.target.value),g(!0)},onFocus:()=>g(!0),className:"bg-transparent text-sm outline-none text-slate-800 placeholder:text-slate-400 w-40"}),b&&m&&(0,t.jsx)("button",{onClick:()=>{g(!1),p("")},className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,t.jsx)(u,{})})]}),b&&(0,t.jsxs)("div",{className:"absolute top-full mt-2 w-72 bg-white border border-slate-200 rounded-xl shadow-2xl z-50 max-h-80 overflow-hidden animate-fade-in-up",children:[(0,t.jsxs)("button",{onClick:T,disabled:v,className:`w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors text-sm text-blue-600 border-b border-slate-200 flex items-center gap-3 font-medium ${v?"opacity-50":""}`,children:[(0,t.jsx)(f,{}),(0,t.jsx)("span",{children:v?"Localisation en cours...":"Ma localisation"})]}),(0,t.jsx)("div",{className:"max-h-60 overflow-y-auto",children:_.length>0?_.map((e,r)=>(0,t.jsxs)("button",{onClick:()=>O(e),className:"w-full text-left px-4 py-3 hover:bg-slate-50 transition-all duration-200 text-sm text-slate-700 border-b border-slate-100 last:border-b-0 flex items-center gap-3 group",children:[(0,t.jsx)("div",{className:"text-slate-400 group-hover:text-slate-600 transition-colors",children:(0,t.jsx)(d,{})}),(0,t.jsx)("span",{className:"group-hover:text-slate-900 transition-colors",children:e.name})]},e.name)):m?(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"Aucune ville trouvée"}):s.slice(0,8).map(e=>(0,t.jsxs)("button",{onClick:()=>O(e),className:"w-full text-left px-4 py-3 hover:bg-slate-50 transition-all duration-200 text-sm text-slate-700 border-b border-slate-100 last:border-b-0 flex items-center gap-3 group",children:[(0,t.jsx)("div",{className:"text-slate-400 group-hover:text-slate-600 transition-colors",children:(0,t.jsx)(d,{})}),(0,t.jsx)("span",{className:"group-hover:text-slate-900 transition-colors",children:e.name})]},e.name))})]})]}),(0,t.jsxs)(a.default,{href:"/alertes",className:`flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full font-bold text-sm transition whitespace-nowrap ${"/alertes"===D?"ring-2 ring-red-300":""}`,children:[(0,t.jsx)(n,{}),"Alertes"]}),y?(0,t.jsxs)("div",{className:"relative",ref:S,children:[(0,t.jsxs)("button",{onClick:()=>k(!w),className:"flex items-center gap-3 bg-slate-50 hover:bg-slate-100 px-2 py-1.5 pr-4 rounded-full border border-slate-200 transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-800 text-white flex items-center justify-center font-bold text-sm",children:y.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"text-left hidden lg:block",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-800 leading-tight",children:"Bonjour,"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 truncate max-w-[80px]",children:y.name})]}),(0,t.jsx)("div",{className:"text-slate-400",children:(0,t.jsx)("svg",{className:`w-4 h-4 transition-transform ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),w&&(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white border border-slate-200 rounded-xl shadow-xl z-50 overflow-hidden animate-fade-in-up",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-slate-100 bg-slate-50",children:[(0,t.jsx)("p",{className:"font-bold text-slate-800 text-sm truncate",children:y.name}),(0,t.jsx)("p",{className:"text-xs text-slate-500 truncate",children:y.email})]}),("admin"===y.role||"super_admin"===y.role)&&(0,t.jsxs)(a.default,{href:"/admin",onClick:()=>k(!1),className:"flex items-center gap-2 px-4 py-3 text-sm font-bold text-indigo-600 hover:bg-indigo-50 transition-colors",children:[(0,t.jsx)("i",{className:"bi bi-shield-check text-lg"}),"Administration"]}),(0,t.jsx)(a.default,{href:"/dashboard",onClick:()=>k(!1),className:"block px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition-colors",children:"Mon Tableau de bord"}),(0,t.jsx)(a.default,{href:"/dashboard/settings",onClick:()=>k(!1),className:"block w-full text-left px-4 py-3 text-sm font-medium text-slate-700 hover:bg-slate-50 hover:text-slate-900 transition-colors",children:"Paramètres"}),(0,t.jsx)("div",{className:"border-t border-slate-100 my-1"}),(0,t.jsx)("button",{onClick:E,className:"w-full text-left px-4 py-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",children:"Se déconnecter"})]})]}):(0,t.jsxs)(a.default,{href:"/login",className:`flex items-center gap-2 text-slate-700 font-bold hover:text-slate-900 transition whitespace-nowrap px-3 py-2 rounded-xl border border-slate-200 hover:bg-slate-50 ${"/login"===D?"bg-slate-50 border-slate-300":""}`,children:[(0,t.jsx)(i,{}),(0,t.jsx)("span",{className:"hidden lg:inline",children:"Espace Membre"})]})]})]}),(0,t.jsxs)("div",{className:"sm:hidden flex items-center justify-between gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 animate-fade-in-up",children:(0,t.jsx)(a.default,{href:"/",children:(0,t.jsx)("img",{src:"https://raw.githubusercontent.com/pyronix-dev/upwork/main/logo.png",alt:"Météo Martinique",className:"h-10 w-10 object-contain hover:scale-105 transition-transform"})})}),$&&(0,t.jsx)("div",{className:"flex-1 text-center",children:(0,t.jsx)("span",{className:"text-sm font-bold text-slate-800",children:$})}),(0,t.jsx)("button",{onClick:()=>h(!x),className:"text-slate-800 flex-shrink-0",children:x?(0,t.jsx)(u,{}):(0,t.jsx)(c,{})})]}),x&&(0,t.jsxs)("nav",{className:"sm:hidden mt-4 space-y-3 animate-slide-in-left border-t border-slate-200 pt-4",children:[(0,t.jsx)(a.default,{href:"/previsions",className:`font-bold hover:text-slate-600 transition block ${"/previsions"===D||D.startsWith("/previsions/")?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Prévisions"}),(0,t.jsx)(a.default,{href:"/vigilance",className:`font-bold hover:text-slate-600 transition block ${"/vigilance"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Vigilance"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide px-2 mb-2",children:"Cartes"}),(0,t.jsx)(a.default,{href:"/carte",className:`font-bold hover:text-slate-600 transition block px-2 ${"/carte"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Observations"}),(0,t.jsx)(a.default,{href:"/cartes/temperature",className:`font-bold hover:text-slate-600 transition block px-2 ${"/cartes/temperature"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Températures"}),(0,t.jsx)(a.default,{href:"/cartes/vent",className:`font-bold hover:text-slate-600 transition block px-2 ${"/cartes/vent"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Vent"}),(0,t.jsx)(a.default,{href:"/cartes/pluie",className:`font-bold hover:text-slate-600 transition block px-2 ${"/cartes/pluie"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Pluie"}),(0,t.jsx)(a.default,{href:"/cartes/uv",className:`font-bold hover:text-slate-600 transition block px-2 ${"/cartes/uv"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Indice UV"}),(0,t.jsx)(a.default,{href:"/cartes/plages",className:`font-bold hover:text-slate-600 transition block px-2 ${"/cartes/plages"===D?"text-slate-800 border-l-2 border-slate-800 pl-2":"text-slate-600"}`,children:"Plages"})]}),(0,t.jsxs)("div",{className:"pt-3 border-t border-slate-200 space-y-3",children:[(0,t.jsxs)("div",{className:"relative",ref:M,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-slate-100 px-3 py-2 rounded-xl border border-slate-200",children:[(0,t.jsx)(o,{}),(0,t.jsx)("input",{type:"text",placeholder:"Chercher une ville...",value:m,onChange:e=>{p(e.target.value),g(!0)},onFocus:()=>g(!0),className:"bg-transparent text-sm outline-none text-slate-800 placeholder:text-slate-400 w-full"})]}),b&&(0,t.jsxs)("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-xl shadow-xl z-50 max-h-60 overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>{T(),h(!1)},disabled:v,className:`w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors text-sm text-blue-600 border-b border-slate-200 flex items-center gap-3 font-medium ${v?"opacity-50":""}`,children:[(0,t.jsx)(f,{}),(0,t.jsx)("span",{children:v?"Localisation en cours...":"Ma localisation"})]}),(0,t.jsx)("div",{className:"max-h-48 overflow-y-auto",children:_.length>0?_.slice(0,6).map(e=>(0,t.jsxs)("button",{onClick:()=>{O(e),h(!1)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors text-sm text-slate-700 border-b border-slate-100 last:border-b-0 flex items-center gap-3",children:[(0,t.jsx)(d,{}),(0,t.jsx)("span",{children:e.name})]},e.name)):m?(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500 text-center",children:"Aucune ville trouvée"}):s.slice(0,6).map(e=>(0,t.jsxs)("button",{onClick:()=>{O(e),h(!1)},className:"w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors text-sm text-slate-700 border-b border-slate-100 last:border-b-0 flex items-center gap-3",children:[(0,t.jsx)(d,{}),(0,t.jsx)("span",{children:e.name})]},e.name))})]})]}),(0,t.jsxs)(a.default,{href:"/alertes",className:"w-full flex items-center gap-2 justify-center bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-full font-bold text-sm transition",children:[(0,t.jsx)(n,{}),"Alertes"]}),y?(0,t.jsxs)(t.Fragment,{children:[("admin"===y.role||"super_admin"===y.role)&&(0,t.jsxs)(a.default,{href:"/admin",className:"w-full flex items-center gap-3 justify-center px-4 py-2.5 rounded-xl bg-indigo-600 text-white font-bold text-sm",children:[(0,t.jsx)("i",{className:"bi bi-shield-check text-lg"}),"Administration"]}),(0,t.jsxs)(a.default,{href:"/dashboard",className:"w-full flex items-center gap-3 justify-center px-4 py-2.5 rounded-xl bg-slate-800 text-white font-bold text-sm",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-slate-600 border border-slate-500 flex items-center justify-center text-[10px]",children:y.name.charAt(0).toUpperCase()}),"Mon Tableau de bord"]}),(0,t.jsx)("button",{onClick:E,className:"w-full flex items-center gap-2 justify-center text-red-600 font-bold px-4 py-2 rounded-xl bg-red-50 hover:bg-red-100 transition",children:"Se déconnecter"})]}):(0,t.jsxs)(a.default,{href:"/login",className:"w-full flex items-center gap-2 justify-center text-slate-700 font-bold px-4 py-2 rounded-xl border border-slate-200 hover:bg-slate-50",children:[(0,t.jsx)(i,{}),"Espace Membre"]})]})]})]})})}e.s(["Header",()=>x],81696)}]);