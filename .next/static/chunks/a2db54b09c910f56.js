(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6557,e=>{"use strict";var r=e.i(50415),t=e.i(35267),o=e.i(7735);function n({markers:n,centerOn:l,onReset:a}){let u=(0,t.useRef)(null),c=(0,t.useRef)(null),i=(0,t.useRef)([]),[s,d]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),f=[-61.0242,14.6415];(0,t.useEffect)(()=>{if(!c.current||!m)return;i.current.forEach(e=>e.remove()),i.current=[];let r=e.r(2967);n.forEach(e=>{let t=document.createElement("div");t.className="weather-marker-container",r.createRoot(t).render(e.component);let n=new o.default.Marker({element:t,anchor:"center"}).setLngLat([e.lon,e.lat]).addTo(c.current);i.current.push(n)})},[n,m]),(0,t.useEffect)(()=>{c.current&&l&&c.current.flyTo({center:[l.lon,l.lat],zoom:12,essential:!0,duration:1500})},[l]),(0,t.useEffect)(()=>{if(!c.current)return u.current&&(c.current=new o.default.Map({container:u.current,style:"https://api.maptiler.com/maps/dataviz-v4/style.json?key=UxUuNKolwcBvNiLEf3iZ",center:f,zoom:9.5,dragPan:!1,boxZoom:!1,dragRotate:!1,keyboard:!1,doubleClickZoom:!1,touchZoomRotate:!1,scrollZoom:!1}),c.current.on("load",()=>{h(!0),v(),c.current?.touchZoomRotate.disable(),c.current?.dragPan.disable()}),c.current.on("zoom",v),c.current.on("move",v)),()=>{i.current.forEach(e=>e.remove()),c.current?.remove(),c.current=null}},[]);let v=()=>{c.current&&d(c.current.getZoom()>10)};return(0,r.jsxs)("div",{className:"relative w-full h-full overflow-hidden rounded-2xl",children:[(0,r.jsx)("div",{ref:u,className:"w-full h-full"}),s&&(0,r.jsx)("button",{onClick:()=>{c.current&&(c.current.flyTo({center:f,zoom:9.5,essential:!0}),v(),a?.())},className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur text-slate-700 p-2 rounded-xl shadow-lg border border-slate-200 hover:bg-white transition-colors z-20 animate-in fade-in zoom-in duration-300",title:"RÃ©initialiser la vue",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})})]})}e.s(["MartiniqueMap",()=>n])},13943,e=>{e.n(e.i(6557))}]);