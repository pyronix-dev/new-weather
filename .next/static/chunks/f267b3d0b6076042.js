(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31256,(e,t,r)=>{"use strict";var n=e.r(35267),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,i=n.useEffect,l=n.useLayoutEffect,o=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return l(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),i(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},1186,(e,t,r)=>{"use strict";t.exports=e.r(31256)},87877,e=>{"use strict";let t;var r=e.i(35267),n=e.i(1186);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],22187);var a=Object.prototype.hasOwnProperty;let s=new WeakMap,i=()=>{},l=i(),o=Object,c=e=>e===l,u=(e,t)=>({...e,...t}),d={},f={},x="undefined",m=typeof window!=x,p=typeof document!=x,h=m&&"Deno"in window,g=(e,t)=>{let r=s.get(e);return[()=>!c(t)&&e.get(t)||d,n=>{if(!c(t)){let a=e.get(t);t in f||(f[t]=a),r[5](t,u(a,n),a||d)}},r[6],()=>!c(t)&&t in f?f[t]:!c(t)&&e.get(t)||d]},b=!0,[v,y]=m&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[i,i],j={initFocus:e=>(p&&document.addEventListener("visibilitychange",e),v("focus",e),()=>{p&&document.removeEventListener("visibilitychange",e),y("focus",e)}),initReconnect:e=>{let t=()=>{b=!0,e()},r=()=>{b=!1};return v("online",t),v("offline",r),()=>{y("online",t),y("offline",r)}}},w=!r.default.useId,N=!m||h,E=N?r.useEffect:r.useLayoutEffect,_="undefined"!=typeof navigator&&navigator.connection,S=!N&&_&&(["slow-2g","2g"].includes(_.effectiveType)||_.saveData),T=new WeakMap,R=(e,t)=>e===`[object ${t}]`,O=0,C=e=>{let t,r,n=typeof e,a=o.prototype.toString.call(e),s=R(a,"Date"),i=R(a,"RegExp"),l=R(a,"Object");if(o(e)!==e||s||i)t=s?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=T.get(e))return t;if(t=++O+"~",T.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=C(e[r])+",";T.set(e,t)}if(l){t="#";let n=o.keys(e).sort();for(;!c(r=n.pop());)c(e[r])||(t+=r+":"+C(e[r])+",");T.set(e,t)}}return t},V=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?C(e):"",t]},A=0,k=()=>++A;async function D(...e){let[t,r,n,a]=e,i=u({populateCache:!0,throwOnError:!0},"boolean"==typeof a?{revalidate:a}:a||{}),o=i.populateCache,d=i.rollbackOnError,f=i.optimisticData,x=i.throwOnError;if("function"==typeof r){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(m))}return m(r);async function m(r){let a,[u]=V(r);if(!u)return;let[m,p]=g(t,u),[h,b,v,y]=s.get(t),j=()=>{let e=h[u];return("function"==typeof i.revalidate?i.revalidate(m().data,r):!1!==i.revalidate)&&(delete v[u],delete y[u],e&&e[0])?e[0](2).then(()=>m().data):m().data};if(e.length<3)return j();let w=n,N=!1,E=k();b[u]=[E,0];let _=!c(f),S=m(),T=S.data,R=S._c,O=c(R)?T:R;if(_&&p({data:f="function"==typeof f?f(O,T):f,_c:O}),"function"==typeof w)try{w=w(O)}catch(e){a=e,N=!0}if(w&&"function"==typeof w.then){let e;if(w=await w.catch(e=>{a=e,N=!0}),E!==b[u][0]){if(N)throw a;return w}N&&_&&(e=a,"function"==typeof d?d(e):!1!==d)&&(o=!0,p({data:O,_c:l}))}if(o&&!N&&("function"==typeof o?p({data:o(w,O),error:l,_c:l}):p({data:w,error:l,_c:l})),b[u][1]=k(),Promise.resolve(j()).then(()=>{p({_c:l})}),N){if(x)throw a;return}return w}}let L=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},P=(e,t)=>{if(!s.has(e)){let r=u(j,t),n=Object.create(null),a=D.bind(l,e),o=i,c=Object.create(null),d=(e,t)=>{let r=c[e]||[];return c[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},f=(t,r,n)=>{e.set(t,r);let a=c[t];if(a)for(let e of a)e(r,n)},x=()=>{if(!s.has(e)&&(s.set(e,[n,Object.create(null),Object.create(null),Object.create(null),a,f,d]),!N)){let t=r.initFocus(setTimeout.bind(l,L.bind(l,n,0))),a=r.initReconnect(setTimeout.bind(l,L.bind(l,n,1)));o=()=>{t&&t(),a&&a(),s.delete(e)}}};return x(),[e,a,x,o]}return[e,s.get(e)[4]]},[F,I]=P(new Map),M=u({onLoadingSlow:i,onSuccess:i,onError:i,onErrorRetry:(e,t,r,n,a)=>{let s=r.errorRetryCount,i=a.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*r.errorRetryInterval;(c(s)||!(i>s))&&setTimeout(n,l,a)},onDiscarded:i,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:S?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:S?5e3:3e3,compare:function e(t,r){var n,s;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((s=t.length)===r.length)for(;s--&&e(t[s],r[s]););return -1===s}if(!n||"object"==typeof t){for(n in s=0,t)if(a.call(t,n)&&++s&&!a.call(r,n)||!(n in r)||!e(t[n],r[n]))return!1;return Object.keys(r).length===s}}return t!=t&&r!=r},isPaused:()=>!1,cache:F,mutate:I,fallback:{}},{isOnline:()=>b,isVisible:()=>{let e=p&&document.visibilityState;return c(e)||"hidden"!==e}}),U=(e,t)=>{let r=u(e,t);if(t){let{use:n,fallback:a}=e,{use:s,fallback:i}=t;n&&s&&(r.use=n.concat(s)),a&&i&&(r.fallback=u(a,i))}return r},W=(0,r.createContext)({});var $=e.i(22187);let q=m&&window.__SWR_DEVTOOLS_USE__,H=(q?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,n)=>{let a=r&&((...e)=>{let[n]=V(t),[,,,a]=s.get(F);if(n.startsWith("$inf$"))return r(...e);let i=a[n];return c(i)?r(...e):(delete a[n],i)});return e(t,a,n)});q&&(window.__SWR_DEVTOOLS_REACT__=r.default);let z=()=>{},J=z(),B=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),K={dedupe:!0},Y=Promise.resolve(l);o.defineProperty(e=>{let{value:t}=e,n=(0,r.useContext)(W),a="function"==typeof t,s=(0,r.useMemo)(()=>a?t(n):t,[a,n,t]),i=(0,r.useMemo)(()=>a?s:U(n,s),[a,n,s]),o=s&&s.provider,c=(0,r.useRef)(l);o&&!c.current&&(c.current=P(o(i.cache||F),s));let d=c.current;return d&&(i.cache=d[0],i.mutate=d[1]),E(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,r.createElement)(W.Provider,u(e,{value:i}))},"defaultValue",{value:M});let G=(t=(e,t,a)=>{let{cache:o,compare:d,suspense:f,fallbackData:p,revalidateOnMount:h,revalidateIfStale:b,refreshInterval:v,refreshWhenHidden:y,refreshWhenOffline:j,keepPreviousData:_,strictServerPrefetchWarning:S}=a,[T,R,O,C]=s.get(o),[A,L]=V(e),P=(0,r.useRef)(!1),F=(0,r.useRef)(!1),I=(0,r.useRef)(A),M=(0,r.useRef)(t),U=(0,r.useRef)(a),W=()=>U.current.isVisible()&&U.current.isOnline(),[q,H,z,J]=g(o,A),G=(0,r.useRef)({}).current,Q=c(p)?c(a.fallback)?l:a.fallback[A]:p,X=(e,t)=>{for(let r in G)if("data"===r){if(!d(e[r],t[r])&&(!c(e[r])||!d(el,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},Z=(0,r.useMemo)(()=>{let e=!!A&&!!t&&(c(h)?!U.current.isPaused()&&!f&&!1!==b:h),r=t=>{let r=u(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=q(),a=J(),s=r(n),i=n===a?s:r(a),l=s;return[()=>{let e=r(q());return X(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>i]},[o,A]),ee=(0,n.useSyncExternalStore)((0,r.useCallback)(e=>z(A,(t,r)=>{X(r,t)||e()}),[o,A]),Z[0],Z[1]),et=!P.current,er=T[A]&&T[A].length>0,en=ee.data,ea=c(en)?Q&&"function"==typeof Q.then?B(Q):Q:en,es=ee.error,ei=(0,r.useRef)(ea),el=_?c(en)?c(ei.current)?ea:ei.current:en:ea,eo=A&&c(ea),ec=!N&&(0,n.useSyncExternalStore)(()=>i,()=>!1,()=>!0);S&&ec&&!f&&eo&&console.warn(`Missing pre-initiated data for serialized key "${A}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let eu=(!er||!!c(es))&&(et&&!c(h)?h:!U.current.isPaused()&&(f?!c(ea)&&b:c(ea)||b)),ed=!!(A&&t&&et&&eu),ef=c(ee.isValidating)?ed:ee.isValidating,ex=c(ee.isLoading)?ed:ee.isLoading,em=(0,r.useCallback)(async e=>{let t,r,n=M.current;if(!A||!n||F.current||U.current.isPaused())return!1;let s=!0,i=e||{},o=!O[A]||!i.dedupe,u=()=>w?!F.current&&A===I.current&&P.current:A===I.current,f={isValidating:!1,isLoading:!1},x=()=>{H(f)},m=()=>{let e=O[A];e&&e[1]===r&&delete O[A]},p={isValidating:!0};c(q().data)&&(p.isLoading=!0);try{if(o&&(H(p),a.loadingTimeout&&c(q().data)&&setTimeout(()=>{s&&u()&&U.current.onLoadingSlow(A,a)},a.loadingTimeout),O[A]=[n(L),k()]),[t,r]=O[A],t=await t,o&&setTimeout(m,a.dedupingInterval),!O[A]||O[A][1]!==r)return o&&u()&&U.current.onDiscarded(A),!1;f.error=l;let e=R[A];if(!c(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return x(),o&&u()&&U.current.onDiscarded(A),!1;let i=q().data;f.data=d(i,t)?i:t,o&&u()&&U.current.onSuccess(t,A,a)}catch(r){m();let e=U.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(f.error=r,o&&u())&&(e.onError(r,A,e),(!0===t||"function"==typeof t&&t(r))&&(!U.current.revalidateOnFocus||!U.current.revalidateOnReconnect||W())&&e.onErrorRetry(r,A,e,e=>{let t=T[A];t&&t[0]&&t[0]($.ERROR_REVALIDATE_EVENT,e)},{retryCount:(i.retryCount||0)+1,dedupe:!0}))}return s=!1,x(),!0},[A,o]),ep=(0,r.useCallback)((...e)=>D(o,I.current,...e),[]);if(E(()=>{M.current=t,U.current=a,c(en)||(ei.current=en)}),E(()=>{var e;let t;if(!A)return;let r=em.bind(l,K),n=0;U.current.revalidateOnFocus&&(n=Date.now()+U.current.focusThrottleInterval);let a=(e=(e,t={})=>{if(e==$.FOCUS_EVENT){let e=Date.now();U.current.revalidateOnFocus&&e>n&&W()&&(n=e+U.current.focusThrottleInterval,r())}else if(e==$.RECONNECT_EVENT)U.current.revalidateOnReconnect&&W()&&r();else if(e==$.MUTATE_EVENT)return em();else if(e==$.ERROR_REVALIDATE_EVENT)return em(t)},(t=T[A]||(T[A]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});if(F.current=!1,I.current=A,P.current=!0,H({_k:L}),eu&&!O[A])if(c(ea)||N)r();else m&&typeof window.requestAnimationFrame!=x?window.requestAnimationFrame(r):setTimeout(r,1);return()=>{F.current=!0,a()}},[A]),E(()=>{let e;function t(){let t="function"==typeof v?v(q().data):v;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!q().error&&(y||U.current.isVisible())&&(j||U.current.isOnline())?em(K).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[v,y,j,A]),(0,r.useDebugValue)(el),f){if(!w&&N&&eo)throw Error("Fallback data is required when using Suspense in SSR.");eo&&(M.current=t,U.current=a,F.current=!1);let e=C[A];if(B(!c(e)&&eo?ep(e):Y),!c(es)&&eo)throw es;let r=eo?em(K):Y;!c(el)&&eo&&(r.status="fulfilled",r.value=!0),B(r)}return{mutate:ep,get data(){return G.data=!0,el},get error(){return G.error=!0,es},get isValidating(){return G.isValidating=!0,ef},get isLoading(){return G.isLoading=!0,ex}}},function(...e){let n,a=(n=(0,r.useContext)(W),(0,r.useMemo)(()=>u(M,n),[n])),[s,i,l]="function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],o=U(a,l),c=t,{use:d}=o,f=(d||[]).concat(H);for(let e=f.length;e--;)c=f[e](c);return c(s,i||o.fetcher||null,o)});e.s(["default",()=>G],87877)},76188,e=>{"use strict";var t=e.i(50415),r=e.i(35267),n=e.i(31588),a=e.i(87877),s=e.i(81696),i=e.i(53696),l=e.i(56522);let o=e=>fetch(e).then(e=>e.json());function c({params:e,initialUser:c}){let{id:u}=(0,r.use)(e),{data:d,isLoading:f,mutate:x}=(0,a.default)(`/api/admin/users/${u}`,o),[m,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[b,v]=(0,r.useState)({}),{showToast:y}=(0,i.useToast)(),{confirm:j}=(0,l.useConfirm)(),w=async()=>{g(!0);try{await fetch(`/api/admin/users/${u}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),await x(),p(!1),y("Modifications enregistrées","success")}catch(e){y("Erreur lors de la sauvegarde","error")}finally{g(!1)}},N=async(e,t)=>{try{let r=await fetch("/api/admin/subscriptions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:u,action:e,durationDays:t})}),n=await r.json();if(!r.ok)throw Error(n.error);await x(),y("Action effectuée avec succès","success")}catch(e){y(e.message||"Erreur lors de l'action","error")}},E=async()=>{let e=await j({title:"Ajouter un abonnement",message:"Entrez la durée en jours",inputPlaceholder:"30",inputDefaultValue:"30",confirmText:"Ajouter",variant:"info"});if(!e)return;let t=parseInt("string"==typeof e?e:"30");if(isNaN(t))return y("Durée invalide","error");N("grant",t)},_=async()=>{let e=await j({title:"Prolonger l'abonnement",message:"Entrez la durée en jours supplémentaire",inputPlaceholder:"30",inputDefaultValue:"30",confirmText:"Prolonger",variant:"info"});if(!e)return;let t=parseInt("string"==typeof e?e:"30");if(isNaN(t))return y("Durée invalide","error");N("extend",t)},S=async()=>{await j({title:"Annuler l'abonnement ?",message:"L'utilisateur perdra son accès premium immédiatement.",confirmText:"Annuler l'abonnement",variant:"danger"})&&N("cancel")};if(f)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin"})});if(!d?.user)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,t.jsxs)("div",{className:"text-center p-8 bg-white rounded-2xl shadow-lg",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Utilisateur non trouvé"}),(0,t.jsx)(n.default,{href:"/admin",className:"text-blue-600 hover:underline",children:"Retour"})]})});let T=d.user;return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,t.jsx)(s.Header,{initialUser:c}),(0,t.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)(n.default,{href:"/admin",className:"text-slate-500 hover:text-slate-700",children:"← Retour"}),(0,t.jsx)("h1",{className:"text-2xl font-black text-slate-800",children:"Détails Utilisateur"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:T.full_name||"Sans nom"}),(0,t.jsx)("p",{className:"text-slate-500 font-mono",children:T.reference_code})]}),(0,t.jsx)("div",{className:"flex gap-2",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:w,disabled:h,className:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600 disabled:opacity-50",children:h?"Sauvegarde...":"Sauvegarder"}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-300",children:"Annuler"})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{onClick:()=>{v({full_name:d?.user.full_name,email:d?.user.email,phone:d?.user.phone,is_banned:d?.user.is_banned,banned_reason:d?.user.banned_reason}),p(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600",children:"Modifier"})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),m?(0,t.jsx)("input",{type:"email",value:b.email||"",onChange:e=>v({...b,email:e.target.value}),className:"w-full mt-1 px-3 py-2 border border-slate-200 rounded-lg"}):(0,t.jsx)("p",{className:"text-slate-800",children:T.email||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Téléphone"}),m?(0,t.jsx)("input",{type:"tel",value:b.phone||"",onChange:e=>v({...b,phone:e.target.value}),className:"w-full mt-1 px-3 py-2 border border-slate-200 rounded-lg"}):(0,t.jsx)("p",{className:"text-slate-800",children:T.phone||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nom Complet"}),m?(0,t.jsx)("input",{type:"text",value:b.full_name||"",onChange:e=>v({...b,full_name:e.target.value}),className:"w-full mt-1 px-3 py-2 border border-slate-200 rounded-lg"}):(0,t.jsx)("p",{className:"text-slate-800",children:T.full_name||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Rôle"}),(0,t.jsx)("p",{className:"text-slate-800 capitalize",children:T.role})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Créé le"}),(0,t.jsx)("p",{className:"text-slate-800",children:new Date(T.created_at).toLocaleString("fr-FR")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Statut"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-1",children:[T.is_banned&&(0,t.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-bold rounded-full",children:"Banni"}),T.is_verified&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"Vérifié"})]})]})]}),T.is_banned&&T.banned_reason&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Raison du bannissement"}),(0,t.jsx)("p",{className:"text-red-700",children:T.banned_reason})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Historique de Connexion"}),0===d.loginHistory.length?(0,t.jsx)("p",{className:"text-slate-500",children:"Aucun historique disponible"}):(0,t.jsx)("div",{className:"space-y-3",children:d.loginHistory.map(e=>(0,t.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-mono text-sm text-slate-800",children:e.ip_address||"IP inconnue"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:[e.location_city,", ",e.location_country," • ",e.isp]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.created_at).toLocaleString("fr-FR")})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Abonnements"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:E,className:"px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-lg hover:bg-indigo-100",children:"+ Ajouter"})})]}),0===d.subscriptions.length?(0,t.jsx)("p",{className:"text-slate-500",children:"Aucun abonnement"}):(0,t.jsx)("div",{className:"space-y-3",children:d.subscriptions.map(e=>(0,t.jsxs)("div",{className:"p-3 bg-slate-50 rounded-lg flex items-center justify-between group",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-800",children:e.plan}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:[(e.amount/100).toFixed(2),"€ • Expire: ",e.expires_at?new Date(e.expires_at).toLocaleDateString("fr-FR"):"N/A"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${"active"===e.status?"bg-green-100 text-green-700":"bg-slate-200 text-slate-600"}`,children:e.status}),"active"===e.status&&(0,t.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:_,className:"p-1 hover:bg-slate-200 rounded",title:"Prolonger",children:"➕"}),(0,t.jsx)("button",{onClick:S,className:"p-1 hover:bg-red-100 rounded text-red-600",title:"Annuler",children:"✖️"})]})]})]},e.id))})]})]})]})}e.s(["default",()=>c])}]);