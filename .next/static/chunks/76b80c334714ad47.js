(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89168,(e,t,s)=>{},80615,(e,t,s)=>{var r=e.i(21524);e.r(89168);var n=e.r(35267),i=n&&"object"==typeof n&&"default"in n?n:{default:n},l=void 0!==r.default&&r.default.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,n=t.optimizeForSpeed,i=void 0===n?l:n;d(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",d("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(l||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(d(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return l||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];d(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&d(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return s?n.insertBefore(r,s):n.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},h={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return h[r]||(h[r]="jsx-"+c(e+"-"+s)),h[r]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return h[s]||(h[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[s]}var x=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,n=t.optimizeForSpeed,i=void 0!==n&&n;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),r&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,n=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var i=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=i,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var n=u(r,s);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return m(n,e)}):[m(n,t)]}}return{styleId:u(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=n.createContext(null);function p(){return new x}function b(){return n.useContext(f)}f.displayName="StyleSheetContext";var v=i.default.useInsertionEffect||i.default.useLayoutEffect,j="undefined"!=typeof window?p():void 0;function g(e){var t=j||b();return t&&("undefined"==typeof window?t.add(e):v(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}g.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,r=n.useContext(f),l=n.useState(function(){return r||t||p()})[0];return i.default.createElement(f.Provider,{value:l},s)},s.createStyleRegistry=p,s.style=g,s.useStyleRegistry=b},75856,(e,t,s)=>{t.exports=e.r(80615).style},77786,e=>{"use strict";var t=e.i(50415),s=e.i(75856),r=e.i(31588);let n=()=>(0,t.jsx)("i",{className:"bi bi-facebook text-lg"}),i=()=>(0,t.jsx)("i",{className:"bi bi-instagram text-lg"}),l=()=>(0,t.jsx)("i",{className:"bi bi-twitter-x text-lg"});function a(){return(0,t.jsxs)("footer",{className:"jsx-21be1207c161d05d relative mt-auto bg-white border-t border-slate-200",children:[(0,t.jsx)("div",{className:"jsx-21be1207c161d05d py-12 sm:py-16",children:(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 mb-12",children:[(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d lg:col-span-5 order-1",children:[(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d flex items-center gap-3 mb-6",children:[(0,t.jsx)("img",{src:"https://raw.githubusercontent.com/pyronix-dev/upwork/main/logo.png",alt:"Logo",className:"jsx-21be1207c161d05d w-12 h-12 object-contain"}),(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d",children:[(0,t.jsx)("h4",{className:"jsx-21be1207c161d05d text-xl font-bold text-slate-800",children:"MÃ©tÃ©o"}),(0,t.jsx)("p",{className:"jsx-21be1207c161d05d text-sm font-semibold text-slate-600",children:"Martinique"})]})]}),(0,t.jsx)("p",{className:"jsx-21be1207c161d05d text-slate-500 font-medium leading-relaxed mb-6 text-lg max-w-sm",children:"Votre source fiable pour des prÃ©visions mÃ©tÃ©o prÃ©cises en Martinique. DonnÃ©es actualisÃ©es en temps rÃ©el."}),(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d flex gap-3",children:[(0,t.jsx)("a",{href:"#","aria-label":"Facebook",className:"jsx-21be1207c161d05d w-10 h-10 rounded-xl bg-slate-100 border border-slate-200 flex items-center justify-center text-slate-500 hover:bg-slate-800 hover:text-white hover:border-slate-800 transition-all duration-300",children:(0,t.jsx)(n,{})}),(0,t.jsx)("a",{href:"#","aria-label":"Twitter",className:"jsx-21be1207c161d05d w-10 h-10 rounded-xl bg-slate-100 border border-slate-200 flex items-center justify-center text-slate-500 hover:bg-slate-800 hover:text-white hover:border-slate-800 transition-all duration-300",children:(0,t.jsx)(l,{})}),(0,t.jsx)("a",{href:"#","aria-label":"Instagram",className:"jsx-21be1207c161d05d w-10 h-10 rounded-xl bg-slate-100 border border-slate-200 flex items-center justify-center text-slate-500 hover:bg-slate-800 hover:text-white hover:border-slate-800 transition-all duration-300",children:(0,t.jsx)(i,{})})]})]}),(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d lg:col-span-2 order-2",children:[(0,t.jsx)("h4",{className:"jsx-21be1207c161d05d text-base sm:text-lg font-bold text-slate-800 mb-4 sm:mb-6",children:"Liens Rapides"}),(0,t.jsx)("ul",{className:"jsx-21be1207c161d05d space-y-2 sm:space-y-3",children:[{label:"PrÃ©visions",href:"/previsions"},{label:"Carte",href:"/carte"},{label:"Alertes",href:"/alertes"},{label:"Vigilance",href:"/vigilance"}].map((e,s)=>(0,t.jsx)("li",{className:"jsx-21be1207c161d05d",children:(0,t.jsx)(r.default,{href:e.href,className:"text-slate-500 font-medium hover:text-slate-800 transition-colors duration-300 text-sm",children:e.label})},s))})]}),(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d lg:col-span-2 order-3",children:[(0,t.jsx)("h4",{className:"jsx-21be1207c161d05d text-base sm:text-lg font-bold text-slate-800 mb-4 sm:mb-6",children:"Services"}),(0,t.jsx)("ul",{className:"jsx-21be1207c161d05d space-y-2 sm:space-y-3",children:[{label:"MÃ©tÃ©o des plages",href:"/cartes/plages"},{label:"MÃ©tÃ©o marine",href:"/meteo-marine"},{label:"Vigilance ouragans",href:"/vigilance"},{label:"Alertes SMS",href:"/alertes?mode=sms"}].map((e,s)=>(0,t.jsx)("li",{className:"jsx-21be1207c161d05d",children:(0,t.jsx)(r.default,{href:e.href,className:"text-slate-500 font-medium hover:text-slate-800 transition-colors duration-300 text-sm",children:e.label})},s))})]})]}),(0,t.jsx)("div",{className:"jsx-21be1207c161d05d pt-8 border-t border-slate-200",children:(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d text-center md:text-left",children:[(0,t.jsxs)("p",{className:"jsx-21be1207c161d05d text-slate-500 font-medium text-sm",children:["Â© 2026 ",(0,t.jsx)("span",{className:"jsx-21be1207c161d05d text-slate-800 font-bold",children:"MÃ©tÃ©o Martinique"}),". Tous droits rÃ©servÃ©s."]}),(0,t.jsxs)("p",{className:"jsx-21be1207c161d05d text-slate-500 text-sm mt-2 flex items-center justify-center md:justify-start gap-1.5 font-medium tracking-wide",children:[(0,t.jsx)("span",{className:"jsx-21be1207c161d05d bg-gradient-to-r from-slate-600 to-slate-800 bg-clip-text text-transparent",children:"Fait et gÃ©rÃ© avec"}),(0,t.jsx)("span",{style:{animation:"heartbeat 1.5s ease-in-out infinite"},className:"jsx-21be1207c161d05d inline-block text-red-500 text-base",children:"â¤ï¸"}),(0,t.jsx)("span",{className:"jsx-21be1207c161d05d bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"par une Ã©quipe martiniquaise"})]})]}),(0,t.jsxs)("div",{className:"jsx-21be1207c161d05d flex flex-wrap justify-center gap-6",children:[(0,t.jsx)(r.default,{href:"/contact",className:"text-slate-500 font-medium text-sm hover:text-slate-800 transition-colors duration-300",children:"Contact"}),(0,t.jsx)(r.default,{href:"/mentions-legales",className:"text-slate-500 font-medium text-sm hover:text-slate-800 transition-colors duration-300",children:"Mentions lÃ©gales"}),(0,t.jsx)(r.default,{href:"/confidentialite",className:"text-slate-500 font-medium text-sm hover:text-slate-800 transition-colors duration-300",children:"Politique de confidentialitÃ©"}),(0,t.jsx)(r.default,{href:"/conditions-generales",className:"text-slate-500 font-medium text-sm hover:text-slate-800 transition-colors duration-300",children:"CGU"})]})]})})]})}),(0,t.jsx)(s.default,{id:"21be1207c161d05d",children:"@keyframes heartbeat{0%,to{transform:scale(1)}14%{transform:scale(1.15)}28%{transform:scale(1)}42%{transform:scale(1.15)}56%,to{transform:scale(1)}}"})]})}e.s(["Footer",()=>a])},1833,e=>{"use strict";var t=e.i(50415),s=e.i(35267),r=e.i(31588),n=e.i(81696),i=e.i(77786),l=e.i(92233),a=e.i(57357);let o=()=>(0,t.jsx)("svg",{className:"w-12 h-12 text-red-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});function d({isOpen:e,onClose:r}){let n=(0,a.useRouter)(),[i,d]=(0,s.useState)(!1),[c,h]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),x="Supprimer mon compte",f=async e=>{if(e.preventDefault(),c!==x)return void m("Le texte de confirmation est incorrect.");d(!0),m("");try{if(!(await fetch("/api/user/account",{method:"DELETE"})).ok)throw Error("Delete failed");alert("Votre compte a Ã©tÃ© supprimÃ©."),n.push("/login"),n.refresh()}catch(e){m("Une erreur est survenue lors de la suppression."),d(!1)}};return(0,t.jsx)(l.Root,{open:e,onOpenChange:r,children:(0,t.jsxs)(l.Portal,{children:[(0,t.jsx)(l.Overlay,{className:"fixed inset-0 bg-red-900/20 backdrop-blur-sm z-50 animate-fade-in"}),(0,t.jsx)(l.Content,{className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 z-50 animate-scale-in focus:outline-none text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"p-3 bg-red-50 rounded-full mb-4",children:(0,t.jsx)(o,{})}),(0,t.jsx)(l.Title,{className:"text-2xl font-black text-slate-800 mb-2",children:"Supprimer votre compte ?"}),(0,t.jsxs)(l.Description,{className:"text-slate-500 mb-6",children:["Cette action est ",(0,t.jsx)("strong",{children:"irrÃ©versible"}),". Toutes vos donnÃ©es seront effacÃ©es et vous ne pourrez plus vous connecter."]}),(0,t.jsxs)("form",{onSubmit:f,className:"w-full space-y-4",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:['Tapez "',x,'" pour confirmer']}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-slate-200 focus:border-red-500 focus:outline-none transition-colors font-medium placeholder:font-normal",placeholder:x}),u&&(0,t.jsx)("p",{className:"text-red-600 text-sm mt-2 font-bold",children:u})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"flex-1 py-3 font-bold text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-xl transition-colors",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",disabled:i||c!==x,className:"flex-1 py-3 font-bold text-white bg-red-600 hover:bg-red-700 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Suppression...":"Supprimer"})]})]})]})})]})})}let c=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),h=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),u=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),m=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01"})}),x=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),f=()=>(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),p=({brand:e})=>{switch(e.toLowerCase()){case"visa":return(0,t.jsxs)("svg",{className:"w-8 h-5",role:"img",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"Visa"}),(0,t.jsx)("path",{d:"M9.112 8.262L5.97 15.758H3.92L2.374 9.775c-.094-.368-.175-.503-.461-.658C1.447 8.864.677 8.627 0 8.479l.046-.217h3.3a.904.904 0 01.894.764l.817 4.338 2.018-5.102zm8.033 5.049c.008-1.979-2.736-2.088-2.717-2.972.006-.269.262-.555.822-.628a3.66 3.66 0 011.913.336l.34-1.59a5.207 5.207 0 00-1.814-.333c-1.917 0-3.266 1.02-3.278 2.479-.012 1.079.963 1.68 1.698 2.04.756.367 1.01.603 1.006.931-.005.504-.602.725-1.16.734-.975.015-1.54-.263-1.992-.473l-.351 1.642c.453.208 1.289.39 2.156.398 2.037 0 3.37-1.006 3.377-2.564m5.061 2.447H24l-1.565-7.496h-1.656a.883.883 0 00-.826.55l-2.909 6.946h2.036l.405-1.12h2.488zm-2.163-2.656l1.02-2.815.588 2.815zm-8.16-4.84l-1.603 7.496H8.34l1.605-7.496z"})]});case"mastercard":return(0,t.jsxs)("svg",{className:"w-8 h-5",role:"img",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"MasterCard"}),(0,t.jsx)("path",{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"})]});case"amex":return(0,t.jsxs)("svg",{className:"w-8 h-5",role:"img",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("title",{children:"American Express"}),(0,t.jsx)("path",{d:"M16.015 14.378c0-.32-.135-.496-.344-.622-.21-.12-.464-.135-.81-.135h-1.543v2.82h.675v-1.027h.72c.24 0 .39.024.478.125.12.13.104.38.104.55v.35h.66v-.555c-.002-.25-.017-.376-.108-.516-.06-.08-.18-.18-.33-.234l.02-.008c.18-.072.48-.297.48-.747zm-.87.407l-.028-.002c-.09.053-.195.058-.33.058h-.81v-.63h.824c.12 0 .24 0 .33.05.098.048.156.147.15.255 0 .12-.045.215-.134.27zM20.297 15.837H19v.6h1.304c.676 0 1.05-.278 1.05-.884 0-.28-.066-.448-.187-.582-.153-.133-.392-.193-.73-.207l-.376-.015c-.104 0-.18 0-.255-.03-.09-.03-.15-.105-.15-.21 0-.09.017-.166.09-.21.083-.046.177-.066.272-.06h1.23v-.602h-1.35c-.704 0-.958.437-.958.84 0 .9.776.855 1.407.87.104 0 .18.015.225.06.046.03.082.106.082.18 0 .07-.034.138-.09.18-.045.056-.136.07-.27.07h-1.288v.605h1.287c.42 0 .734-.118.9-.36h.03c.09-.134.135-.3.135-.523 0-.24-.045-.39-.135-.526zM18.597 14.208v-.583h-2.235V16.458h2.235v-.585h-1.57v-.57h1.533v-.584h-1.532v-.51M13.51 8.787h.685V11.6h-.684zM13.126 9.543l-.007.006c0-.314-.13-.5-.34-.624-.217-.125-.47-.135-.81-.135H10.43v2.82h.674v-1.034h.72c.24 0 .39.03.487.12.122.136.107.378.107.548v.354h.677v-.553c0-.25-.016-.375-.11-.516-.09-.107-.202-.19-.33-.237.172-.07.472-.3.472-.75zm-.855.396h-.015c-.09.054-.195.056-.33.056H11.1v-.623h.825c.12 0 .24.004.33.05.09.04.15.128.15.25s-.047.22-.134.266zM15.92 9.373h.632v-.6h-.644c-.464 0-.804.105-1.02.33-.286.3-.362.69-.362 1.11 0 .512.123.833.36 1.074.232.238.645.31.97.31h.78l.255-.627h1.39l.262.627h1.36v-2.11l1.272 2.11h.95l.002.002V8.786h-.684v1.963l-1.18-1.96h-1.02V11.4L18.11 8.744h-1.004l-.943 2.22h-.3c-.177 0-.362-.03-.468-.134-.125-.15-.186-.36-.186-.662 0-.285.08-.51.194-.63.133-.135.272-.165.516-.165zm1.668-.108l.464 1.118v.002h-.93l.466-1.12zM2.38 10.97l.254.628H4V9.393l.972 2.205h.584l.973-2.202.015 2.202h.69v-2.81H6.118l-.807 1.904-.876-1.905H3.343v2.663L2.205 8.787h-.997L.01 11.597h.72l.26-.626h1.39zm-.688-1.705l.46 1.118-.003.002h-.915l.457-1.12zM11.856 13.62H9.714l-.85.923-.825-.922H5.346v2.82H8l.855-.932.824.93h1.302v-.94h.838c.6 0 1.17-.164 1.17-.945l-.006-.003c0-.78-.598-.93-1.128-.93zM7.67 15.853l-.014-.002H6.02v-.557h1.47v-.574H6.02v-.51H7.7l.733.82-.764.824zm2.642.33l-1.03-1.147 1.03-1.108v2.253zm1.553-1.258h-.885v-.717h.885c.24 0 .42.098.42.344 0 .243-.15.372-.42.372zM9.967 9.373v-.586H7.73V11.6h2.237v-.58H8.4v-.564h1.527V9.88H8.4v-.507"})]});default:return(0,t.jsxs)("svg",{className:"w-8 h-5",viewBox:"0 0 48 32",fill:"none",children:[(0,t.jsx)("rect",{width:"48",height:"32",rx:"2",fill:"#64748B"}),(0,t.jsx)("path",{d:"M6 10H42",stroke:"white",strokeWidth:"2"}),(0,t.jsx)("rect",{x:"6",y:"16",width:"12",height:"4",rx:"1",fill:"white"}),(0,t.jsx)("rect",{x:"22",y:"16",width:"20",height:"2",rx:"1",fill:"white"})]})}};function b({initialUser:e,initialPaymentMethods:l=[]}){let[a,o]=(0,s.useState)(!1),[b,j]=(0,s.useState)(e?.notifications_sms??!0),[g,y]=(0,s.useState)(e?.notifications_email??!0),[w,N]=(0,s.useState)(l),[_,S]=(0,s.useState)([]),[C,k]=(0,s.useState)(!0),[z,R]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/user/invoices");e.ok&&S(await e.json())}catch(e){console.error("Failed to load invoices",e)}finally{k(!1)}};(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();t.notifications&&(j(!!t.notifications.sms),y(!!t.notifications.email))}}catch(e){console.error(e)}})(),e()},[]);let F=async(e,t)=>{"sms"===e&&j(t),"email"===e&&y(t);try{if(!(await fetch("/api/user/notifications",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({[e]:t})})).ok)throw Error("Failed to update")}catch(s){"sms"===e&&j(!t),"email"===e&&y(!t),alert("Erreur lors de la mise Ã  jour des paramÃ¨tres")}};return(0,t.jsxs)("div",{className:"min-h-screen bg-stone-100 flex flex-col",children:[(0,t.jsx)(n.Header,{initialUser:e}),(0,t.jsxs)("main",{className:"flex-1 w-full max-w-3xl mx-auto px-4 sm:px-6 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)(r.default,{href:"/dashboard",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-800 font-bold transition-colors mb-4",children:[(0,t.jsx)(c,{}),"Retour au tableau de bord"]}),(0,t.jsx)("h1",{className:"text-3xl font-black text-slate-800",children:"ParamÃ¨tres"}),(0,t.jsx)("p",{className:"text-slate-500 mt-1",children:"Personnalisez votre expÃ©rience"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)(u,{}),"Gestion des Notifications"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-700",children:"Alertes par SMS"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Recevez les vigilances mÃ©tÃ©o directement par SMS."})]}),(0,t.jsx)(v,{enabled:b,onChange:e=>F("sms",e)})]}),(0,t.jsx)("div",{className:"h-px bg-slate-100"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-700",children:"Alertes par Email"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Recevez les bulletins et alertes dans votre boÃ®te mail."})]}),(0,t.jsx)(v,{enabled:g,onChange:e=>F("email",e)})]})]})]}),(0,t.jsxs)("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)(x,{}),"Moyens de paiement"]}),w.length>0?(0,t.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,t.jsx)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-white p-1 rounded border border-slate-200 shadow-sm",children:(0,t.jsx)(p,{brand:e.brand})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-bold text-slate-800 capitalize flex items-center gap-2",children:[e.brand,(0,t.jsxs)("span",{className:"text-slate-500 font-mono text-sm",children:["â€¢â€¢â€¢â€¢ ",e.last4]})]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Expire fin ",e.exp_month,"/",e.exp_year]})]})]})},e.id))}):(0,t.jsx)("div",{className:"text-center py-6 bg-slate-50 rounded-xl border border-dashed border-slate-200",children:(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Aucun moyen de paiement enregistrÃ©"})})]}),(0,t.jsxs)("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)(f,{}),"Factures"]}),C?(0,t.jsx)("div",{className:"space-y-3",children:[1].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100 animate-pulse",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"h-4 w-16 bg-slate-200 rounded mb-1"}),(0,t.jsx)("div",{className:"h-3 w-24 bg-slate-200 rounded"})]}),(0,t.jsx)("div",{className:"h-8 w-24 bg-slate-200 rounded-lg"})]},e))}):_.length>0?(0,t.jsx)("div",{className:"space-y-3",children:_.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-xl border border-slate-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-bold text-slate-800",children:[(e.amount/100).toFixed(2),"â‚¬"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:[new Date(e.created_at).toLocaleDateString()," â€¢ #",e.invoice_number||"REF"]})]}),(0,t.jsx)("a",{href:e.invoice_pdf,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-blue-600 hover:text-blue-700 px-3 py-1.5 rounded-lg hover:bg-blue-50 transition-colors",children:"TÃ©lÃ©charger"})]},e.id))}):(0,t.jsx)("div",{className:"text-center py-6 bg-slate-50 rounded-xl border border-dashed border-slate-200",children:(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Aucune facture disponible"})})]}),(0,t.jsxs)("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)(h,{}),"Apparence"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-700",children:"Mode Sombre"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Activer le thÃ¨me sombre pour l'interface"})]}),(0,t.jsx)(v,{enabled:a,onChange:o,disabled:!0})]}),(0,t.jsx)("p",{className:"text-xs text-amber-600 mt-3 font-medium bg-amber-50 p-2 rounded-lg inline-block",children:"ðŸš§ BientÃ´t disponible"})]}),(0,t.jsxs)("section",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,t.jsx)(m,{}),"ConfidentialitÃ© et DonnÃ©es"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{className:"w-full text-left px-4 py-3 rounded-xl bg-slate-50 hover:bg-slate-100 text-slate-700 font-medium transition-colors",children:"TÃ©lÃ©charger mes donnÃ©es (GDPR)"}),(0,t.jsx)("button",{onClick:()=>R(!0),className:"w-full text-left px-4 py-3 rounded-xl bg-red-50 hover:bg-red-100 text-red-600 font-medium transition-colors",children:"Supprimer mon compte"})]})]}),(0,t.jsx)("p",{className:"text-center text-xs text-slate-400 font-medium pt-4",children:"Version 0.1.0"})]})]}),(0,t.jsx)(i.Footer,{}),(0,t.jsx)(d,{isOpen:z,onClose:()=>R(!1)})]})}function v({enabled:e,onChange:s,disabled:r=!1}){return(0,t.jsx)("button",{onClick:()=>!r&&s(!e),disabled:r,className:`
                relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-slate-600 focus:ring-offset-2
                ${e?"bg-slate-800":"bg-slate-200"}
                ${r?"cursor-not-allowed opacity-50":""}
            `,children:(0,t.jsx)("span",{"aria-hidden":"true",className:`
                    pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out
                    ${e?"translate-x-5":"translate-x-0"}
                `})})}e.s(["default",()=>b],1833)}]);